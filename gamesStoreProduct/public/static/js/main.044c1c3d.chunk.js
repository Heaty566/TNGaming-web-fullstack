(this.webpackJsonpgamesstore=this.webpackJsonpgamesstore||[]).push([[0],{112:function(e,t,a){var r=a(33);r.objectId=a(113)(r);var n=a(36).formatError,s=function(e){switch(e){case"name":return r.string().max(50).min(1).regex(/^[a-zA-Z0-9- ]*$/).required().messages({"string.base":n("Name","string.base"),"string.empty":n("Name","string.empty"),"string.min":n("Name","string.min"," one character"),"string.max":n("Name","string.max"," 50 characters"),"string.pattern.base":n("Name","string.pattern.base","string.letterOnly"),"any.required":n("Name","any.required")});case"price":return r.number().max(5e3).min(0).required().messages({"number.max":n("price","number.max"," $5000"),"number.min":n("price","number.min"," $0"),"number.base":n("price","number.base"),"any.required":n("price","any.required")});case"stock":return r.number().max(5e3).min(1).required().messages({"number.max":n("stock","number.max"," 5000"),"number.min":n("stock","number.min"," one"),"number.base":n("stock","number.base"),"any.required":n("stock","any.required")});case"genreId":return r.array().items(r.objectId()).max(20).min(1).required().messages({"string.empty":n("Genre","string.empty"),"array.max":n("Genre","array.max"," twenty genres"),"array.min":n("Genre","array.min"," one genre"),"any.required":n("Genre","any.required")});case"description":return r.string().allow("").max(5e3).required().messages({"string.base":n("Description","string.base"),"string.max":n("Description","string.max"," 50000 characters"),"any.required":n("Description","any.required")});case"available":return r.boolean().required().messages({"boolean.base":n("available","boolean.base"),"any.required":n("available","any.required")});case"publisher":return r.string().max(50).min(1).regex(/^[a-zA-Z0-9- ]*$/).required().messages({"string.base":n("publisher","string.base"),"string.empty":n("publisher","string.empty"),"string.min":n("publisher","string.min"," one character"),"string.max":n("publisher","string.max"," 50 characters"),"string.pattern.base":n("publisher","string.pattern.base","string.letterOnly"),"any.required":n("publisher","any.required")});case"date":return r.date().required().messages({"date.base":n("Date","date.base"),"any.required":n("Date","any.required")})}};e.exports={validateGameNew:function(e){return r.object({name:s("name"),price:s("price"),genreId:s("genreId"),description:s("description"),available:s("available"),stock:s("stock"),date:s("date"),publisher:s("publisher")}).validate(e)},validateGameRestock:function(e){return r.object({stock:s("stock")}).validate({stock:e})},validateGameUpdate:function(e){return r.object({name:s("name"),price:s("price"),genreId:s("genreId"),description:s("description"),available:s("available"),date:s("date"),publisher:s("publisher")}).validate(e)}}},118:function(e,t,a){var r=a(33),n=a(36).formatError,s=function(e){switch(e){case"name":return r.string().max(50).min(2).regex(/^[a-zA-Z ]*$/).required().messages({"string.base":n("Name","string.base"),"string.empty":n("Name","string.empty"),"string.min":n("Name","string.min"," two characters"),"string.max":n("Name","string.max"," 50 characters"),"string.pattern.base":n("Name","string.pattern.base","string.letterOnly"),"any.required":n("Name","any.required")});case"username":return r.string().max(50).min(6).regex(/^[a-zA-Z0-9]*$/).required().messages({"string.base":n("Username","string.base"),"string.empty":n("Username","string.empty"),"string.min":n("Username","string.min"," six characters"),"string.max":n("Username","string.max"," 50 characters"),"string.pattern.base":n("Username","string.pattern.base","string.letterAndNumber"),"any.required":n("Username","any.required")});case"email":return r.string().max(70).min(6).email({tlds:{allow:!1}}).required().messages({"string.base":n("Email","string.base"),"string.empty":n("Email","string.empty"),"string.min":n("Email","string.min"," six characters"),"string.email":n("Email","string.email"),"string.max":n("Email","string.max"," 70 characters"),"string.pattern.base":n("Email","string.pattern.base","string.emailForm"),"any.required":n("Email","any.required")});case"oldPassword":return r.string().max(32).min(8).regex(/^[a-zA-Z0-9]*$/).required().messages({"string.base":n("Old password","string.base"),"string.empty":n("Old password","string.empty"),"string.min":n("Old password","string.min"," eight characters"),"string.max":n("Old password","string.max"," 32 characters"),"string.pattern.base":n("Old password","string.pattern.base","string.letterAndNumber"),"any.required":n("Old password","any.required")});case"password":return r.string().max(32).min(8).regex(/^[a-zA-Z0-9]*$/).required().messages({"string.base":n("Password","string.base"),"string.empty":n("Password","string.empty"),"string.min":n("Password","string.min"," eight characters"),"string.max":n("Password","string.max"," 32 characters"),"string.pattern.base":n("Password","string.pattern.base","string.letterAndNumber"),"any.required":n("Password","any.required")});case"confirm":return r.string().valid(r.ref("password")).required().messages({"any.only":n("Confirm","string.matchPassword"),"any.required":n("Confirm","any.required")});case"phone":return r.string().regex(/^[0-9+]*$/).max(14).min(8).required().messages({"string.base":n("Phone","string.base"),"string.empty":n("Phone","string.empty"),"string.min":n("Phone","string.min"," eight characters"),"string.max":n("Phone","string.max"," fourteen characters"),"string.pattern.base":n("Phone","string.pattern.base","string.numberOnly"),"any.required":n("Phone","any.required")});case"address":return r.string().regex(/^[a-zA-Z0-9 ]*$/).max(70).min(1).required().messages({"string.base":n("Address","string.base"),"string.empty":n("Address","string.empty"),"string.min":n("Address","string.min"," one character"),"string.max":n("Address","string.max"," 70 characters"),"string.pattern.base":n("Address","string.pattern.base","string.letterAndNumber"),"any.required":n("Address","any.required")});case"balance":return r.number().max(1e4).min(1).required().messages({"number.max":n("Balance","number.max"," $10000"),"number.min":n("Balance","number.min"," $1"),"number.base":n("Balance","number.base"),"any.required":n("Balance","any.required")});case"isDeveloper":return r.boolean().messages({"boolean.base":n("isDeveloper","boolean.base")})}};e.exports={validateUser:function(e){return r.object({name:s("name"),username:s("username"),email:s("email"),password:s("password"),confirm:s("confirm"),phone:s("phone"),address:s("address")}).validate(e)},validateLoginUser:function(e){return r.object({username:s("username"),password:s("password")}).validate(e)},validateUpdatePassword:function(e){return r.object({oldPassword:s("oldPassword"),password:s("password"),confirm:s("confirm")}).validate(e)},validateUpdateProfile:function(e){return r.object({name:s("name"),email:s("email"),phone:s("phone"),address:s("address")}).validate(e)},validateAddBalance:function(e){return r.object({balance:s("balance")}).validate(e)}}},119:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(27),i=a.n(s),c=(a(68),a(19)),o=a(29),u=a(15),l=function(e){var t=e.component,a=Object(o.a)(e,["component"]),r=new u.a;return n.a.createElement(c.b,Object.assign({},a,{render:function(e){return r.get("x-auth-token")?n.a.createElement(c.a,{to:{pathname:"/",state:{from:e.location}}}):n.a.createElement(t,e)}}))},m=a(7),p=function(e){var t=e.component,a=Object(o.a)(e,["component"]);Object(m.b)((function(e){return e.auth}));return n.a.createElement(c.b,Object.assign({},a,{render:function(e){return n.a.createElement(t,e)}}))},d=a(8),b=a(13),g=Object(b.c)({name:"auth",initialState:{token:"",user:"",loading:!1,error:"",lastFeatch:null},reducers:{updateUser:function(e,t){e.loading=!1,e.user=t.payload.user,e.token=t.payload.token},updateLoading:function(e,t){e.loading=!0},updateError:function(e,t){e.loading=!1,e.lastFeatch=Date.now(),e.error=t.payload.msg}}}),h=Object(b.b)("loginUser"),f=g.actions,y=(f.logoutUser,f.updateUser),v=f.updateLoading,w=f.updateError,E=g.reducer,x=a(9),k=a(11),_=a(58),U=a.n(_),N=Object(b.c)({name:"searchBox",initialState:{results:[],loading:!1},reducers:{updateSearchValue:function(e,t){e.results=[],e.loading=!0},updateSearchResults:function(e,t){e.results=U()(t.payload.results.data).take(5).value(),e.loading=!1}}}),j=Object(b.b)("onChangeSearchBox"),O=N.actions,L=O.updateSearchValue,R=O.updateSearchResults,q=N.reducer,A=Object(b.c)({name:"notification",initialState:{errId:null,msg:""},reducers:{updateMessage:function(e,t){e.msg=function(e,t){switch(!0){case e>500&&e<600:return"Service is unavailable this time, please try agian later.";case 999===e:return"We are still building this feature.";default:return t}}(t.payload.errId,t.payload.msg),e.errorId=t.payload.errId}}}),G=A.actions.updateMessage,S=A.reducer,P=a(1),D=a.n(P),C=a(2),B=a(24),I=a.n(B);I.a.defaults.baseURL=d.serverURL.production;var T=function(e){return{headers:{"x-auth-token":e}}},F={get:I.a.get,post:I.a.post,put:I.a.put,delete:I.a.delete},$=d.endPointURL.usersURL;function z(){return(z=Object(C.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat($,"/login"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(C.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat($,"/register"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(C.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("".concat($,"/me"),T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(C.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat($,"/changeProfile"),a,T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(C.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat($,"/logout"),null,T(t)).catch((function(e){return e.response}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(C.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat($,"/changePassword"),a,T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(C.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("".concat($,"/loginWithCookie"),T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(C.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat($,"/addBalance"),a,T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(C.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=d.endPointURL.userGamesURL;function Y(){return(Y=Object(C.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat(X,"/addGameTo/wishlist/").concat(a),null,T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(C.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat(X,"/removeGameFrom/wishlist/").concat(a),null,T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(C.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat(X,"/addGameTo/cart/").concat(a),null,T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(C.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat(X,"/removeGameFrom/cart/").concat(a),null,T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(C.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat(X,"/purchase"),null,T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=d.endPointURL.adminURL;function se(){return(se=Object(C.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat(ne,"/cleantoken"),null,T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(C.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("".concat(ne,"/allusers"),T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(C.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat(ne,"/toggleDeveloper/").concat(a),null,T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=Object(C.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat(ne,"/toggleAdmin/").concat(a),null,T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=d.endPointURL.genresURL;function le(){return(le=Object(C.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.post("".concat(ue,"/new"),a,T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){return(me=Object(C.a)(D.a.mark((function e(t,a,r){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.put("".concat(ue,"/").concat(a),r,T(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=d.endPointURL.gamesURL;function de(){return(de=Object(C.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("".concat(pe,"/all/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=Object(C.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("".concat(pe,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=Object(C.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("".concat(pe,"/sortByGenre/").concat(t,"/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=Object(C.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("".concat(pe,"/sortByKey/").concat(t,"/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fe={users:{allUsers:function(e){return ie.apply(this,arguments)},cleanToken:function(e){return se.apply(this,arguments)},toggleUserDeveloper:function(e,t){return ce.apply(this,arguments)},toggleUserAdmin:function(e,t){return oe.apply(this,arguments)}},genres:{addNewGenre:function(e,t){return le.apply(this,arguments)},updateGenre:function(e,t,a){return me.apply(this,arguments)}}},ye={users:{logoutUser:function(e){return J.apply(this,arguments)},loginUser:function(e){return z.apply(this,arguments)},addBalance:function(e,t){return V.apply(this,arguments)},changeUserPassword:function(e,t){return H.apply(this,arguments)},getUser:function(e){return M.apply(this,arguments)},registerUser:function(e){return W.apply(this,arguments)},updateProfile:function(e,t){return Z.apply(this,arguments)},uploadAvatar:function(){return Q.apply(this,arguments)},loginUserWithCookie:function(e){return K.apply(this,arguments)}},games:{addGameToWishList:function(e,t){return Y.apply(this,arguments)},removeGameFromWishList:function(e,t){return ee.apply(this,arguments)},addGameToCart:function(e,t){return te.apply(this,arguments)},removeGameFromCart:function(e,t){return ae.apply(this,arguments)},purchaseGames:function(e){return re.apply(this,arguments)}}},ve={games:{getGame:function(e){return be.apply(this,arguments)},getGames:function(e){return de.apply(this,arguments)},getGameByGenre:function(e,t){return ge.apply(this,arguments)},getGameBySearchKey:function(e,t){return he.apply(this,arguments)}}},we=a(59),Ee=Object(b.b)("registerUser"),xe=Object(k.c)({searchBox:q,notification:S}),ke=Object(k.c)({entities:xe,auth:E}),_e=Object(b.a)({reducer:ke,middleware:[].concat(Object(x.a)(Object(b.d)()),[function(e){var t=e.dispatch;return function(e){return function(a){if(a.type!==j.type)return e(a);t({type:L.type}),e(a),ve.games.getGameBySearchKey(a.payload,1).then((function(e){var a=e.data;t({type:R.type,payload:{results:a}})})).catch((function(e){return t({type:G.type,payload:{msg:e.message,errId:503}})}))}}},function(e){var t=e.dispatch;return function(e){return function(){var a=Object(C.a)(D.a.mark((function a(r){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.type===Ee.type){a.next=2;break}return a.abrupt("return",e(r));case 2:t({type:v.type}),ye.users.registerUser(r.payload).then((function(){var e={username:r.payload.username,password:r.payload.password};return t({type:h.type,payload:e})})).catch((function(e){if(!e.response)return t({type:G.type,payload:{msg:e.message,errId:503}});var a=e.response.data.msg;t({type:w.type,payload:{msg:a}})}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},function(e){var t=e.dispatch;return function(e){return function(){var a=Object(C.a)(D.a.mark((function a(r){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.type===h.type){a.next=2;break}return a.abrupt("return",e(r));case 2:t({type:v.type}),ye.users.loginUser(r.payload).then((function(e){var a=e.data.data,r=a.user,n=a.token;(new u.a).set("x-auth-token",n,{maxAge:we.cookies.maxAge,path:"/"}),t({type:y.type,payload:{user:r,token:n}})})).catch((function(e){if(!e.response)return t({type:G.type,payload:{msg:e.message,errId:503}});var a=e.response.data.msg;t({type:w.type,payload:{msg:a}})}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}])}),Ue=a(4),Ne=function(e){var t=e.brandURL,a=e.linkURL;return n.a.createElement("div",{className:"navbar__brand"},n.a.createElement(Ue.b,{to:a},n.a.createElement("img",{src:""+t,alt:"logo"})))},je=a(6),Oe=a(123),Le=a(5),Re="/pages/icons/logo.svg",qe="/pages/icons/search.svg",Ae="/pages/icons/visibility_on.svg",Ge="/pages/icons/visibility_off.svg",Se="/pages/icons/dropdown_triangle.svg",Pe="/pages/icons/nav-menu.svg",De="#121212";var Ce=function(){var e=Object(c.g)(),t=Object(m.b)((function(e){return e.entities.searchBox})),a=Object(r.useState)(!1),s=Object(je.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(""),l=Object(je.a)(u,2),p=l[0],d=l[1],b=Object(r.useState)(-1),g=Object(je.a)(b,2),h=g[0],f=g[1],y=Object(Oe.a)(p,500),v=Object(je.a)(y,1)[0],w=Object(r.useCallback)((function(a){switch(a){case 13:if(-1!==h)return e.push(Le.d.searchPushToGame+"/"+t.results[h]._id);e.push(Le.d.searchBoxURL+"/"+v);break;case 38:f(h-1),h<=0&&f(t.results.length-1);break;case 40:f(h+1),h>=t.results.length-1&&f(0);break;default:f(-1)}}),[h,t,e,v]);return Object(r.useEffect)((function(){v&&_e.dispatch({type:j.type,payload:v})}),[v]),n.a.createElement("div",{className:"searchbox"},n.a.createElement("div",{className:"searchbox__input"},n.a.createElement("input",{type:"text",value:p,onChange:function(e){var t=e.currentTarget;return d(t.value)},onFocus:function(){return o(!0)},onBlur:function(){return-1===h?o(!1):null},onKeyDown:function(e){var t=e.keyCode;return w(t)},placeholder:"Search",autoComplete:"off"}),n.a.createElement("img",{id:"search",src:""+qe,alt:"search icon"})),t.results.length&&i?n.a.createElement("ul",{className:"searchbox__result"},t.results.map((function(e,t){return n.a.createElement("li",{key:e._id,onMouseLeave:function(){return f(-1)},onMouseEnter:function(){return f(t)},onClick:function(){return o(!1)}},n.a.createElement(Ue.b,{to:Le.d.searchPushToGame+"/"+e._id,className:t===h?"column-active":""},n.a.createElement("p",null,e.name),n.a.createElement("p",null,"$ ",e.price)))}))):null)},Be=function(e){var t=e.label,a=e.linkURL,r=e.outline,s=void 0!==r&&r;return n.a.createElement(Ue.b,{className:"btn__link ".concat(s?"outline":""),to:a},t)};var Ie=function(){var e=new u.a,t=Object(r.useState)(null),a=Object(je.a)(t,2),s=a[0],i=a[1],c=Object(m.b)((function(e){return e.auth})),o=function(){var t=Object(C.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ye.users.logoutUser(e.get("x-auth-token"));case 2:e.remove("x-auth-token"),_e.dispatch({type:y.type,payload:{user:"",token:""}}),window.location.reload();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=s?"drawer__active":null!==s?"drawer__unactive":"drawer__inital";return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"navbar__user",onClick:function(){return i(!0)}},c.user.avatar&&n.a.createElement("img",{className:"avatar",src:""+c.user.avatar,alt:"avatar"}),n.a.createElement("h4",{className:"name"},c.user.name),n.a.createElement("img",{className:"menu-btn",src:""+Pe,alt:"menu"})),s&&n.a.createElement("div",{className:"drawer__background",onClick:function(){return i(!1)}}),n.a.createElement("div",{className:"navbar__drawer ".concat(l)},n.a.createElement("div",{className:"drawer__column"},n.a.createElement("h2",{className:"drawer__title"},"Menu"),n.a.createElement("img",{onClick:function(){return i(!1)},className:"menu-btn",src:""+Pe,alt:"menu"})),n.a.createElement("span",{className:"drawer__divider"}),n.a.createElement("div",{className:"drawer__column"},n.a.createElement(Ue.b,{className:"drawer__link",to:Le.d.userBtn.profileURL},"Profile")),n.a.createElement("div",{className:"drawer__column"},n.a.createElement(Ue.b,{className:"drawer__link",to:Le.d.userBtn.libraryURL},"Library")),n.a.createElement("div",{className:"drawer__column"},n.a.createElement(Ue.b,{className:"drawer__link",to:Le.d.userBtn.communityURL},"Community")),n.a.createElement("div",{className:"drawer__column"},n.a.createElement("button",{className:"drawer__btn",onClick:o},"Logout")),c.user.isAdmin&&c.user.isDeveloper&&n.a.createElement("span",{className:"drawer__divider"}),c.user.isAdmin&&n.a.createElement("div",{className:"drawer__column"},n.a.createElement(Ue.b,{className:"drawer__link",to:Le.d.userBtn.adminDashboardURL},"Admin Dashboard")),c.user.isDeveloper&&n.a.createElement("div",{className:"drawer__column"},n.a.createElement(Ue.b,{className:"drawer__link",to:Le.d.userBtn.developerDashboardURL},"Developer Dashboard"))))},Te=function(){var e=Object(m.b)((function(e){return e.auth}));return n.a.createElement("div",{className:"navbar__groupbtn"},n.a.createElement(Ce,null),n.a.createElement(Be,{label:"Store",linkURL:Le.d.storeURL}),n.a.createElement(Be,{label:"About Us",linkURL:Le.d.aboutUsURL}),e.token?n.a.createElement(Ie,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(Be,{label:"Login",linkURL:Le.d.loginURL}),n.a.createElement(Be,{label:"Register",linkURL:Le.d.registerURL,outline:!0}),")"))};var Fe=function(){var e=new u.a,t=Object(m.b)((function(e){return e.auth}));return Object(r.useEffect)((function(){e.get("x-auth-token")&&!t.token&&ye.users.loginUserWithCookie(e.get("x-auth-token")).then((function(t){var a=t.data.data;_e.dispatch({type:y.type,payload:{user:a,token:e.get("x-auth-token")}})})).catch((function(){return e.remove("x-auth-token")}))}),[t,e]),n.a.createElement("div",{className:"navbar"},n.a.createElement(Ne,{brandURL:Re,linkURL:Le.d.navBrandURL}),n.a.createElement(Te,null))},$e=a(28),ze=(a(92).validateGenre,a(112)),We=(ze.validateGameNew,ze.validateGameRestock,ze.validateGameUpdate,a(118)),Me={validateUser:We.validateUser,validateLoginUser:We.validateLoginUser,validateUpdatePassword:We.validateUpdatePassword,validateUpdateProfile:We.validateUpdateProfile,validateAddBalance:We.validateAddBalance},Ze=function(e){var t=e.name,a=e.placeholder,r=e.track,s=e.type,i=void 0===s?"text":s;return n.a.createElement("input",{className:"form__input",name:t,type:i,autoComplete:"off",spellCheck:"false",autoCapitalize:"off",placeholder:a,ref:r})};var Je=function(e){var t=e.name,a=e.placeholder,s=e.track,i=e.type,c=void 0===i?"password":i,o=Object(r.useState)(!1),u=Object(je.a)(o,2),l=u[0],m=u[1];return n.a.createElement("div",{className:"form__password"},n.a.createElement("input",{name:t,autoComplete:"off",spellCheck:"false",type:l?"text":c,autoCapitalize:"off",placeholder:a,ref:s}),n.a.createElement("img",{src:l?Ae:Ge,onClick:function(){return m(!l)},alt:"seen"}))},He=a(40),Ke=a(41);function Ve(){var e=Object(He.a)(["\n    display: flex;\n\n    span {\n        margin: 0 2px;\n        display: block;\n        background: ",";\n        height: ",";\n        width: ",";\n    }\n\n    span:nth-child(1) {\n        animation: "," 1s infinite;\n    }\n\n    span:nth-child(2) {\n        animation: "," 1s infinite;\n    }\n\n    span:nth-child(3) {\n        animation: "," 1s infinite;\n    }\n    span:nth-child(4) {\n        animation: "," 1s infinite;\n    }\n"]);return Ve=function(){return e},e}function Qe(){var e=Object(He.a)(["\n    ","% {\n        transform: scale(1.2);\n        opacity: 0;\n    }\n\n   ("," + 20)% {\n        opacity: 1;\n    }\n"]);return Qe=function(){return e},e}var Xe=function(e,t){return Object(Ke.b)(Qe(),e,e)},Ye=Ke.a.div(Ve(),(function(e){return e.color}),(function(e){return e.height}),(function(e){return e.width}),Xe(20),Xe(40),Xe(60),Xe(80)),et=function(e){var t=e.height,a=e.width,r=e.color;return n.a.createElement(Ye,{height:t,width:a,color:r},n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null))},tt=function(e){var t=e.label,a=e.isLoading,r=e.type,s=void 0===r?"submit":r;return a?n.a.createElement(et,{height:"24px",width:"12px",color:De}):n.a.createElement("button",{className:"form__btn",type:s},t)},at=function(e){var t=e.label,a=e.linkURL;return n.a.createElement(Ue.b,{className:"form__link",to:a},t)},rt=function(e){var t=e.error;return n.a.createElement("div",{className:"form__error"},n.a.createElement("p",null,t))},nt=function(){document.title="Login | TNGaming";var e=Object(c.g)(),t=Object(m.b)((function(e){return e.auth})),a=Object($e.a)(),s=a.register,i=a.handleSubmit;function o(){return(o=Object(C.a)(D.a.mark((function e(t){var a,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_e.dispatch({type:w.type,payload:{msg:""}}),a=Me.validateLoginUser(t),!(r=a.error)){e.next=4;break}return e.abrupt("return",_e.dispatch({type:w.type,payload:{msg:r.details[0].message}}));case 4:_e.dispatch({type:h.type,payload:t});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){if(t.token)return e.push(Le.c.nextURL)}),[t,e]),n.a.createElement("div",{className:"form form__container form__background-img-desktop"},n.a.createElement("form",{className:"login",onSubmit:i((function(e){return o.apply(this,arguments)}))},n.a.createElement("h3",{className:"form__title"},"Login"),t.error&&n.a.createElement(rt,{error:t.error}),n.a.createElement(Ze,{placeholder:"Username",name:"username",track:s}),n.a.createElement(Je,{placeholder:"Password",name:"password",track:s}),n.a.createElement("div",{className:"form__column"},n.a.createElement(at,{label:"Register instead",linkURL:Le.c.registerInstead}),n.a.createElement(tt,{label:"Next",isLoading:t.loading}))))},st=function(){document.title="Register | TNGaming";var e=Object(c.g)(),t=Object(m.b)((function(e){return e.auth})),a=Object($e.a)(),s=a.register,i=a.handleSubmit;function o(){return(o=Object(C.a)(D.a.mark((function e(t){var a,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Me.validateUser(t),!(r=a.error)){e.next=6;break}return _e.dispatch({type:w.type,payload:{msg:""}}),e.abrupt("return",_e.dispatch({type:w.type,payload:{msg:r.details[0].message}}));case 6:_e.dispatch({type:w.type,payload:{msg:""}});case 7:_e.dispatch({type:Ee.type,payload:t});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){if(t.token)return e.push(Le.e.nextURL)}),[t,e]),n.a.createElement("div",{className:"form form__container form__background-img-desktop"},n.a.createElement("form",{className:"register",onSubmit:i((function(e){return o.apply(this,arguments)}))},n.a.createElement("h3",{className:"form__title"},"Register"),t.error&&n.a.createElement(rt,{error:t.error}),n.a.createElement(Ze,{placeholder:"Name",name:"name",track:s}),n.a.createElement(Ze,{placeholder:"Username",name:"username",track:s}),n.a.createElement(Je,{placeholder:"Password",name:"password",track:s}),n.a.createElement(Je,{placeholder:"Confrim password",name:"confirm",track:s}),n.a.createElement(Ze,{placeholder:"Email",name:"email",track:s}),n.a.createElement(Ze,{placeholder:"Address",name:"address",track:s}),n.a.createElement(Ze,{placeholder:"Phone",name:"phone",track:s}),n.a.createElement("div",{className:"form__column"},n.a.createElement(at,{label:"Register instead",linkURL:Le.e.loginInstead}),n.a.createElement(tt,{label:"Next",isLoading:t.loading}))))},it=function(e){var t=e.label,a=e.linkURL;return n.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},t)},ct=function(e){var t=e.content;return n.a.createElement("p",null,t)},ot=function(){return n.a.createElement("div",{className:"footer"},n.a.createElement("div",{className:"footer__wrapper-right"},n.a.createElement("h3",null,"Contact"),n.a.createElement(it,{label:"Facebook",linkURL:"https://www.facebook.com/Heaty566"}),n.a.createElement(it,{label:"Github",linkURL:"https://github.com/Heaty566"})),n.a.createElement("div",{className:"footer__wrapper-left"},n.a.createElement("h3",null,"Version"),n.a.createElement(ct,{content:" 0.9.1 beta"})))},ut=function(){return document.title="Home | TNGaming",n.a.createElement("div",{className:"introduction"},n.a.createElement("div",{className:"introduction__banner"},n.a.createElement("div",{className:"banner__image"},n.a.createElement("img",{src:"/pages/images/introduction.jpg",alt:"introduction"})),n.a.createElement("div",{className:"banner__content"},n.a.createElement("div",{className:"content__title"},n.a.createElement("h1",null,"TNGaming Store"),n.a.createElement("h4",null,"AN OPEN SOURCE MERN PROJECT")),n.a.createElement("p",null,"This is a project that will work such as Steam or EpicStore in a smaller scale. We are using NodeJS and Express for back-end, React for front-end and MongoDB will be the main Database but we\u2019re going to develop with others technique as GraphQL, Typescript in the future. We hope you will learn and enjoy with this project."),n.a.createElement(Ue.b,{className:"content__link",to:Le.b.bannerURL},"Explore"))))},lt=function(){return document.title="About Us | TNGaming",n.a.createElement("div",{className:"aboutus"},n.a.createElement("h2",null,"Learning by listening makes your product\u2019s more productive"),n.a.createElement("h3",null,"Member"),n.a.createElement("div",{className:"members"},n.a.createElement("div",{className:"members__card"},n.a.createElement("img",{src:"/pages/images/members/simon.jpg",alt:"simon"}),n.a.createElement("h4",null,"Simon Pham"))),n.a.createElement("h3",null,"Story"),n.a.createElement("p",null,"Everytime we completed any small projects, we felt it wasn\u2019t enough for us, we want to try some thing new and more challenging, so we decided to build this project because of 3 reasons. Fist of all, It will be a great place where we can practice more about what I am learning, applying new techniques or building with different structures. Secondly, I love sharing with you guys about code, listening your feedback about what new feature we should add, what the bad feature we have to improve. Finally, we will use this project in our resumes, so I hope if you liked this project, please give us a start in Github that will give us a huge motivation to build this more helpful for you guys."),n.a.createElement("h3",null,"Extra Story"),n.a.createElement("p",null,"It\u2019s me, Simon, if you enjoy with this project, I will tell about the biggest motivation that helps me to build it everyday, That\u2019s Thinh (my wife), we have been apart halfway around the world for years because of some personal reasons, and I really hope I would meet her one day soon and we would be forever. However, I have to finish my college in VN, and then apply for my master's degree in the US to come back with her. I don\u2019t know what adversities wait for us forward, I will try my best even until my last breath."))},mt=function(e){var t=e.column,a=Object(m.b)((function(e){return e.auth.user})),r=t.label,s=t.linkURL,i=t.isAdmin,c=t.isDeveloper;return i===a.isAdmin||c===a.isDeveloper?n.a.createElement("li",{className:"dropdown__column",key:r},n.a.createElement(Ue.b,{className:"dropdown__link",to:d.routerURL.dashboard+s},r)):null};var pt=function(e){var t=e.tag,a=Object(m.b)((function(e){return e.auth.user})),s=Object(r.useState)(!1),i=Object(je.a)(s,2),c=i[0],o=i[1],u=t.section,l=u.isAdmin,p=u.isDeveloper,d=u.label;return l===a.isAdmin||p===a.isDeveloper?n.a.createElement("div",{className:c?"controller__menu active":"controller__menu"},n.a.createElement("div",{className:"controller__section",onClick:function(){return o(!c)}},n.a.createElement("h4",null,d),n.a.createElement("img",{src:""+Se,alt:"menu"})),n.a.createElement("ul",{className:"controller__dropdown"},t.options.map((function(e,t){return n.a.createElement(mt,{column:e,key:t})})))):null};var dt=function(){return n.a.createElement("div",{className:"dashboard__controller"},n.a.createElement("h3",{className:"controller__title"},"Doashboard"),n.a.createElement("span",{className:"controller__divider"}),Le.a.contronller.map((function(e,t){return n.a.createElement(pt,{key:t,tag:e})})))};var bt=function(e){var t=e.label,a=e.options,s=e.field,i=e.onChange,c=Object(r.useState)(t),o=Object(je.a)(c,2),u=o[0],l=o[1],m=Object(r.useState)(!1),p=Object(je.a)(m,2),d=p[0],b=p[1];return n.a.createElement("div",{className:"form__select"},n.a.createElement("div",{className:"select__box",onClick:function(){return b(!d)}},n.a.createElement("input",{value:u,disabled:!0}),n.a.createElement("img",{src:""+Se,alt:"icon"})),d&&n.a.createElement("ul",{className:"select__dropdown",onBlur:function(){return b(!1)},tabIndex:"0"},a.map((function(e){return n.a.createElement("li",{onClick:function(){return l((t=e)[s]),void i(t);var t},key:e._id},n.a.createElement("p",null,e[s]))}))))};var gt=function(){var e=Object(m.b)((function(e){return e.auth.token})),t=Object(r.useState)([]),a=Object(je.a)(t,2),s=a[0],i=a[1],c=Object(r.useState)(null),o=Object(je.a)(c,2),u=o[0],l=o[1];return Object(r.useEffect)((function(){e&&fe.users.allUsers(e).then((function(e){var t=e.data;i(t.data)}))}),[e]),n.a.createElement("div",{className:" form dash__role"},n.a.createElement("form",{className:"dash__userSetRole",onSubmit:function(t){t.preventDefault(),fe.users.toggleUserAdmin(e,u)}},n.a.createElement(bt,{label:"Select User",options:s,field:"username",onChange:function(e){var t=e._id;l(t)}}),n.a.createElement(tt,{label:"Submit"})))},ht=function(){return n.a.createElement("div",{className:"dashboard__main"},n.a.createElement(c.d,null,n.a.createElement(p,{path:d.routerURL.dashboard+"/user/setrole",component:gt})))},ft=function(){return document.title="Dashboard | TNGaming",n.a.createElement("div",{className:"dashboard"},n.a.createElement(dt,null),n.a.createElement(ht,null))};var yt=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"layout__container"},n.a.createElement("header",{className:"navbar__container"},n.a.createElement(Fe,null)),n.a.createElement("main",{className:"main__container"},n.a.createElement(c.d,null,n.a.createElement(c.b,{path:d.routerURL.home,exact:!0,component:ut}),n.a.createElement(c.b,{path:d.routerURL.aboutus,exact:!0,component:lt}),n.a.createElement(l,{path:d.routerURL.userLogin,component:nt}),n.a.createElement(l,{path:d.routerURL.userRegister,component:st}),n.a.createElement(p,{path:d.routerURL.dashboard,component:ft}),n.a.createElement(c.a,{from:"/",exact:!0,to:"/home"}))),n.a.createElement("footer",{className:"footer__container"},n.a.createElement(ot,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var vt=a(122);i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(vt.a,null,n.a.createElement(Ue.a,null,n.a.createElement(m.a,{store:_e},n.a.createElement(yt,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t){var a={objectId:"is invalid","any.required":"is required","string.matchPassword":"doesn't match password","date.base":"must be a valid date","array.base":"must be an array","array.max":"must contain less than or equal to","array.min":"must contain at least","boolean.base":"must be true or false","number.min":"must be larger than or equal to ","number.max":"must be less than or equal to","number.base":"must be a number","string.emailForm":" an email","string.letterOnly":" letters only","string.numberOnly":" numbers only","string.email":"must be a valid email","string.letterAndNumber":" letters and numbers only","string.base":"must be a string","string.empty":"is not allowed to be empty","string.pattern.base":"must contain","string.min":"must contain at least","string.max":"must be less than or equal to"};e.exports={formatError:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return"".concat(e," ").concat(a[t]).concat(a[r]?a[r]:r)}}},5:function(e){e.exports=JSON.parse('{"d":{"navBrandURL":"/home","searchBoxURL":"/games/search","searchPushToGame":"/game","loginURL":"/users/login","registerURL":"/users/register","aboutUsURL":"/aboutus","storeURL":"/games/","userBtn":{"profileURL":"/users/me","libraryURL":"#","communityURL":"#","adminDashboardURL":"/users/dashboard","developerDashboardURL":"/users/dashboard","logoutURL":"/home"}},"c":{"nextURL":"/home","registerInstead":"/users/register"},"e":{"nextURL":"/home","loginInstead":"/users/login"},"b":{"bannerURL":"/store"},"a":{"contronller":[{"section":{"label":"User","isAdmin":true,"isDeveloper":false},"options":[{"label":"Overview","linkURL":"/user/overview","isAdmin":true,"isDeveloper":false},{"label":"Set Role","linkURL":"/user/setrole","isAdmin":true,"isDeveloper":false}]},{"section":{"label":"Developer","isAdmin":true,"isDeveloper":true},"options":[]},{"section":{"label":"Game","isAdmin":true,"isDeveloper":false},"options":[{"label":"Overview","linkURL":"#","isAdmin":true,"isDeveloper":false},{"label":"Add New Game","linkURL":"#","isAdmin":true,"isDeveloper":false},{"label":"Edit Game","linkURL":"#","isAdmin":true,"isDeveloper":true}]}]}}')},59:function(e){e.exports=JSON.parse('{"cookies":{"maxAge":86400}}')},63:function(e,t,a){e.exports=a(119)},68:function(e,t,a){},8:function(e){e.exports=JSON.parse('{"serverURL":{"development":"http://localhost:4000/api","production":"https://gamesstore-demo.herokuapp.com/api"},"endPointURL":{"genresURL":"/users/admin/games/genres","usersURL":"/users","userGamesURL":"/users/games","gamesURL":"/games","authURL":"/users","adminURL":"/users/admin","developerURL":"/users/developer"},"routerURL":{"home":"/home","aboutus":"/aboutus","userLogin":"/users/login","userRegister":"/users/register","dashboard":"/users/dashboard"}}')},92:function(e,t,a){var r=a(33),n=a(36).formatError,s=function(e){switch(e){case"name":return r.string().max(20).min(2).regex(/^[a-zA-Z ]*$/).required().messages({"string.base":n("Name","string.base"),"string.empty":n("Name","string.empty"),"string.min":n("Name","string.min"," two characters"),"string.max":n("Name","string.max"," twenty characters"),"string.pattern.base":n("Name","string.pattern.base","string.letterOnly"),"any.required":n("Name","any.required")})}};e.exports={validateGenre:function(e){return r.object({name:s("name")}).validate(e)}}}},[[63,1,2]]]);
//# sourceMappingURL=main.044c1c3d.chunk.js.map