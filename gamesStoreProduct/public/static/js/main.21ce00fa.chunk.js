(this.webpackJsonpgamesstore=this.webpackJsonpgamesstore||[]).push([[0],{118:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(33),c=t.n(s),o=(t(71),t(22)),i=t(17),l=t(15),u=function(e){var a=e.component,t=Object(i.a)(e,["component"]),n=new l.a;return r.a.createElement(o.b,Object.assign({},t,{render:function(e){return n.get("x-auth-token")?r.a.createElement(o.a,{to:{pathname:"/",state:{from:e.location}}}):r.a.createElement(a,e)}}))},m=t(4),d=function(e){var a=e.component,t=Object(i.a)(e,["component"]),n=Object(m.b)((function(e){return e.auth}));return r.a.createElement(o.b,Object.assign({},t,{render:function(e){return n.user.isAdmin||n.user.isDeveloper?r.a.createElement(a,e):r.a.createElement(o.a,{to:{pathname:"/",state:{from:e.location}}})}}))},p=t(6),b=t(10),g=Object(b.c)({name:"auth",initialState:{token:"",user:"",loading:!1,error:"",lastFeatch:null},reducers:{updateUser:function(e,a){e.loading=!1,e.user=a.payload.user,e.token=a.payload.token},updateLoading:function(e,a){e.loading=!0},updateError:function(e,a){e.loading=!1,e.lastFeatch=Date.now(),e.error=a.payload.msg}}}),f=Object(b.b)("loginUser"),h=g.actions,v=(h.logoutUser,h.updateUser),y=h.updateLoading,E=h.updateError,_=g.reducer,w=t(9),x=t(12),N=t(27),k=t.n(N),j=Object(b.c)({name:"searchBox",initialState:{results:[],loading:!1},reducers:{updateSearchValue:function(e,a){e.results=[],e.loading=!0},updateSearchResults:function(e,a){e.results=k()(a.payload.results.data).take(5).value(),e.loading=!1}}}),O=Object(b.b)("onChangeSearchBox"),U=j.actions,L=U.updateSearchValue,R=U.updateSearchResults,S=j.reducer,q=Object(b.c)({name:"notification",initialState:{errId:null,msg:""},reducers:{updateMessage:function(e,a){e.msg=function(e,a){switch(!0){case e>500&&e<600:return"Service is unavailable this time, please try agian later.";case 999===e:return"We are still building this feature.";default:return a}}(a.payload.errId,a.payload.msg),e.errorId=a.payload.errId}}}),A=q.actions.updateMessage,D=q.reducer,C=t(1),I=t.n(C),P=t(2),T=t(28),G=t.n(T),B=Object(b.c)({name:"loading",initialState:{loading:0},reducers:{updateLoading:function(e,a){e.loading=a.payload.value}}}),F=B.actions.updateLoading,$=B.reducer;G.a.defaults.baseURL=p.serverURL.production;var M=function(e,a){return{headers:{"Content-Type":a,"x-auth-token":e},onUploadProgress:function(e){var a=e.loaded,t=e.total,n=Math.round(100*a/t);n<95&&ie.dispatch({type:F.type,payload:{value:n}})},onDownloadProgress:function(e){var a=e.loaded,t=e.total,n=Math.round(100*a/t);ie.dispatch({type:F.type,payload:{value:n}})}}},z={get:G.a.get,post:G.a.post,put:G.a.put,delete:G.a.delete},V=p.endPointURL.adminURL,W={cleanToken:function(){var e=Object(P.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(V,"/cleantoken"),null,M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),allUsers:function(){var e=Object(P.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("".concat(V,"/allusers"),M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),toggleUserDeveloper:function(){var e=Object(P.a)(I.a.mark((function e(a,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(V,"/toggleDeveloper/").concat(t),null,M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),toggleUserAdmin:function(){var e=Object(P.a)(I.a.mark((function e(a,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(V,"/toggleAdmin/").concat(t),null,M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},Z=p.endPointURL.usersURL,J={loginUser:function(){var e=Object(P.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(Z,"/login"),a,M("","application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),loginUserWithCookie:function(){var e=Object(P.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("".concat(Z,"/loginWithCookie"),M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),logoutUser:function(){var e=Object(P.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(Z,"/logout"),null,M(a,"application/json")).catch((function(e){return e.response}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},H=p.endPointURL.developerURL,K={addNewGame:function(){var e=Object(P.a)(I.a.mark((function e(a,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(H,"/games/new"),t,M(a,"application/x-www-form-urlencoded"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},Y=p.endPointURL.gamesURL,Q={getGames:function(){var e=Object(P.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("".concat(Y,"/all/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),getGame:function(){var e=Object(P.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("".concat(Y,"/").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),getGameByTag:function(){var e=Object(P.a)(I.a.mark((function e(a,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("".concat(Y,"/sortByTag/").concat(a,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),getGameBySearchKey:function(){var e=Object(P.a)(I.a.mark((function e(a,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("".concat(Y,"/sortByKey/").concat(a,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},X=p.endPointURL.tagsURL,ee={getAllTags:function(){var e=Object(P.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("".concat(X,"/all"),M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),addNewTag:function(){var e=Object(P.a)(I.a.mark((function e(a,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(X,"/new"),t,M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),updateTag:function(){var e=Object(P.a)(I.a.mark((function e(a,t,n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.put("".concat(X,"/").concat(t),n,M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}()},ae=p.endPointURL.userGamesURL,te=(function(){var e=Object(P.a)(I.a.mark((function e(a,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(ae,"/addGameTo/wishlist/").concat(t),null,M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(P.a)(I.a.mark((function e(a,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(ae,"/removeGameFrom/wishlist/").concat(t),null,M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(P.a)(I.a.mark((function e(a,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(ae,"/addGameTo/cart/").concat(t),null,M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(P.a)(I.a.mark((function e(a,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(ae,"/removeGameFrom/cart/").concat(t),null,M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}(),function(){var e=Object(P.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(ae,"/purchase"),null,M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}(),p.endPointURL.usersURL),ne={registerUser:function(){var e=Object(P.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(te,"/register"),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(P.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("".concat(te,"/me"),M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),updatePassword:function(){var e=Object(P.a)(I.a.mark((function e(a,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(te,"/changePassword"),t,M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),updateProfile:function(){var e=Object(P.a)(I.a.mark((function e(a,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(te,"/changeProfile"),t,M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),addBalance:function(){var e=Object(P.a)(I.a.mark((function e(a,t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("".concat(te,"/addBalance"),t,M(a,"application/json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),uploadAvatar:function(){var e=Object(P.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},re=t(62),se=Object(b.b)("registerUser"),ce=Object(x.c)({searchBox:S,notification:D,loading:$}),oe=Object(x.c)({entities:ce,auth:_}),ie=Object(b.a)({reducer:oe,middleware:[].concat(Object(w.a)(Object(b.d)()),[function(e){var a=e.dispatch;return function(e){return function(t){if(t.type!==O.type)return e(t);a({type:L.type}),e(t),Q.getGameBySearchKey(t.payload,1).then((function(e){var t=e.data;a({type:R.type,payload:{results:t}})})).catch((function(e){return a({type:A.type,payload:{msg:e.message,errId:503}})}))}}},function(e){var a=e.dispatch;return function(e){return function(){var t=Object(P.a)(I.a.mark((function t(n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.type===se.type){t.next=2;break}return t.abrupt("return",e(n));case 2:a({type:y.type}),ne.registerUser(n.payload).then((function(){var e={username:n.payload.username,password:n.payload.password};return a({type:f.type,payload:e})})).catch((function(e){if(!e.response)return a({type:A.type,payload:{msg:e.message,errId:503}});var t=e.response.data.msg;a({type:E.type,payload:{msg:t}})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},function(e){var a=e.dispatch;return function(e){return function(){var t=Object(P.a)(I.a.mark((function t(n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.type===f.type){t.next=2;break}return t.abrupt("return",e(n));case 2:a({type:y.type}),J.loginUser(n.payload).then((function(e){var t=e.data.data,n=t.user,r=t.token;(new l.a).set("x-auth-token",r,{maxAge:re.cookies.maxAge,path:"/"}),a({type:v.type,payload:{user:n,token:r}})})).catch((function(e){if(!e.response)return a({type:A.type,payload:{msg:e.message,errId:503}});var t=e.response.data.msg;a({type:E.type,payload:{msg:t}})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}])}),le=t(5),ue=function(e){var a=e.brandURL,t=e.linkURL;return r.a.createElement("div",{className:"navbar__brand"},r.a.createElement(le.b,{to:t},r.a.createElement("img",{src:""+a,alt:"logo"})))},me=t(3),de=t(122),pe=t(8),be="/pages/icons/logo.svg",ge="/pages/icons/search.svg",fe="/pages/icons/visibility_on.svg",he="/pages/icons/visibility_off.svg",ve="/pages/icons/dropdown-triangle.svg",ye="/pages/icons/nav-menu.svg",Ee="/pages/icons/add-image.svg",_e="#121212",we=" #636363",xe=" #2979ff";var Ne=function(){var e=Object(o.g)(),a=Object(m.b)((function(e){return e.entities.searchBox})),t=Object(n.useState)(!1),s=Object(me.a)(t,2),c=s[0],i=s[1],l=Object(n.useState)(""),u=Object(me.a)(l,2),d=u[0],p=u[1],b=Object(n.useState)(-1),g=Object(me.a)(b,2),f=g[0],h=g[1],v=Object(de.a)(d,500),y=Object(me.a)(v,1)[0],E=Object(n.useCallback)((function(t){switch(t){case 13:if(-1!==f)return e.push(pe.d.searchPushToGame+"/"+a.results[f]._id);e.push(pe.d.searchBoxURL+"/"+y);break;case 38:h(f-1),f<=0&&h(a.results.length-1);break;case 40:h(f+1),f>=a.results.length-1&&h(0);break;default:h(-1)}}),[f,a,e,y]);return Object(n.useEffect)((function(){y&&ie.dispatch({type:O.type,payload:y})}),[y]),r.a.createElement("div",{className:"searchbox"},r.a.createElement("div",{className:"searchbox__input"},r.a.createElement("input",{type:"text",value:d,onChange:function(e){var a=e.currentTarget;return p(a.value)},onFocus:function(){return i(!0)},onBlur:function(){return-1===f?i(!1):null},onKeyDown:function(e){var a=e.keyCode;return E(a)},placeholder:"Search",autoComplete:"off"}),r.a.createElement("img",{id:"search",src:""+ge,alt:"search icon"})),a.results.length&&c?r.a.createElement("ul",{className:"searchbox__result"},a.results.map((function(e,a){return r.a.createElement("li",{key:e._id,onMouseLeave:function(){return h(-1)},onMouseEnter:function(){return h(a)},onClick:function(){return i(!1)}},r.a.createElement(le.b,{to:pe.d.searchPushToGame+"/"+e._id,className:a===f?"column-active":""},r.a.createElement("p",null,e.name),r.a.createElement("p",null,"$ ",e.price)))}))):null)},ke=function(e){var a=e.label,t=e.linkURL,n=e.outline,s=void 0!==n&&n;return r.a.createElement(le.b,{className:"btn__link ".concat(s?"outline":""),to:t},a)};var je=function(){var e=new l.a,a=Object(n.useState)(null),t=Object(me.a)(a,2),s=t[0],c=t[1],o=Object(m.b)((function(e){return e.auth})),i=function(){var a=Object(P.a)(I.a.mark((function a(){return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.logoutUser(e.get("x-auth-token"));case 2:e.remove("x-auth-token"),ie.dispatch({type:v.type,payload:{user:"",token:""}}),window.location.reload();case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),u=s?"drawer__active":null!==s?"drawer__unactive":"drawer__inital";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar__user",onClick:function(){return c(!0)}},o.user.avatar&&r.a.createElement("img",{className:"avatar",src:""+o.user.avatar,alt:"avatar"}),r.a.createElement("h4",{className:"name"},o.user.name),r.a.createElement("img",{className:"menu-btn",src:""+ye,alt:"menu"})),s&&r.a.createElement("div",{className:"drawer__background",onClick:function(){return c(!1)}}),r.a.createElement("div",{className:"navbar__drawer ".concat(u)},r.a.createElement("div",{className:"drawer__column"},r.a.createElement("h2",{className:"drawer__title"},"Menu"),r.a.createElement("img",{onClick:function(){return c(!1)},className:"menu-btn",src:""+ye,alt:"menu"})),r.a.createElement("span",{className:"drawer__divider"}),r.a.createElement("div",{className:"drawer__column"},r.a.createElement(le.b,{className:"drawer__link",to:pe.d.userBtn.profileURL},"Profile")),r.a.createElement("div",{className:"drawer__column"},r.a.createElement(le.b,{className:"drawer__link",to:pe.d.userBtn.libraryURL},"Library")),r.a.createElement("div",{className:"drawer__column"},r.a.createElement(le.b,{className:"drawer__link",to:pe.d.userBtn.communityURL},"Community")),r.a.createElement("div",{className:"drawer__column"},r.a.createElement("button",{className:"drawer__btn",onClick:i},"Logout")),o.user.isAdmin||o.user.isDeveloper?r.a.createElement("span",{className:"drawer__divider"}):null,o.user.isAdmin&&r.a.createElement("div",{className:"drawer__column"},r.a.createElement(le.b,{className:"drawer__link",to:pe.d.userBtn.adminDashboardURL},"Admin Dashboard")),o.user.isDeveloper&&r.a.createElement("div",{className:"drawer__column"},r.a.createElement(le.b,{className:"drawer__link",to:pe.d.userBtn.developerDashboardURL},"Developer Dashboard"))))},Oe=function(){var e=Object(m.b)((function(e){return e.auth}));return r.a.createElement("div",{className:"navbar__groupbtn"},r.a.createElement(Ne,null),r.a.createElement(ke,{label:"Store",linkURL:pe.d.storeURL}),r.a.createElement(ke,{label:"About Us",linkURL:pe.d.aboutUsURL}),e.token?r.a.createElement(je,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{label:"Login",linkURL:pe.d.loginURL}),r.a.createElement(ke,{label:"Register",linkURL:pe.d.registerURL,outline:!0}),")"))},Ue=t(30),Le=t(31);function Re(){var e=Object(Ue.a)(["\n\n\n    display: block;\n    position: absolute;\n    height: 2px;\n    width: ","%;\n    left: 0px;\n    background ",";\n    bottom: 0px;\n"]);return Re=function(){return e},e}var Se=Le.a.span(Re(),(function(e){return e.loading}),xe),qe=function(e){var a=e.loading;return a&&100!==a?r.a.createElement(Se,{loading:a}):null};var Ae=function(){var e=new l.a,a=Object(m.b)((function(e){return e.auth})),t=Object(m.b)((function(e){return e.entities.loading}));return Object(n.useEffect)((function(){e.get("x-auth-token")&&!a.token&&J.loginUserWithCookie(e.get("x-auth-token")).then((function(a){var t=a.data.data;ie.dispatch({type:v.type,payload:{user:t,token:e.get("x-auth-token")}})})).catch((function(){return e.remove("x-auth-token")}))}),[a,e]),r.a.createElement("div",{className:"navbar"},r.a.createElement(ue,{brandURL:be,linkURL:pe.d.navBrandURL}),r.a.createElement(Oe,null),r.a.createElement(qe,{loading:t.loading}))},De=t(20),Ce=t(37);Ce.objectId=t(113)(Ce);var Ie=t(40).formatError,Pe=function(e){switch(e){case"name":return Ce.string().max(50).min(1).regex(/^[a-zA-Z0-9- ]*$/).required().messages({"string.base":Ie("Name","string.base"),"string.empty":Ie("Name","string.empty"),"string.min":Ie("Name","string.min"," one character"),"string.max":Ie("Name","string.max"," 50 characters"),"string.pattern.base":Ie("Name","string.pattern.base","string.letterOnly"),"any.required":Ie("Name","any.required")});case"price":return Ce.number().max(5e3).min(0).required().messages({"number.max":Ie("price","number.max"," $5000"),"number.min":Ie("price","number.min"," $0"),"number.base":Ie("price","number.base"),"any.required":Ie("price","any.required")});case"stock":return Ce.number().max(5e3).min(1).required().messages({"number.max":Ie("stock","number.max"," 5000"),"number.min":Ie("stock","number.min"," one"),"number.base":Ie("stock","number.base"),"any.required":Ie("stock","any.required")});case"tagId":return Ce.array().items(Ce.objectId()).max(20).min(1).required().messages({"string.empty":Ie("Tag","string.empty"),"array.max":Ie("Tag","array.max"," twenty tags"),"array.min":Ie("Tag","array.min"," one tag"),"any.required":Ie("Tag","any.required")});case"images":return Ce.array().max(10).min(3).required().messages({"object.max":Ie("Images","array.max"," ten images"),"object.min":Ie("Images","array.min"," tree images"),"any.required":Ie("Images","any.required")});case"description":return Ce.string().allow("").max(5e3).required().messages({"string.base":Ie("Description","string.base"),"string.max":Ie("Description","string.max"," 50000 characters"),"any.required":Ie("Description","any.required")});case"available":return Ce.boolean().required().messages({"boolean.base":Ie("available","boolean.base"),"any.required":Ie("available","any.required")});case"publisher":return Ce.string().max(50).min(1).regex(/^[a-zA-Z0-9- ]*$/).required().messages({"string.base":Ie("publisher","string.base"),"string.empty":Ie("publisher","string.empty"),"string.min":Ie("publisher","string.min"," one character"),"string.max":Ie("publisher","string.max"," 50 characters"),"string.pattern.base":Ie("publisher","string.pattern.base","string.letterOnly"),"any.required":Ie("publisher","any.required")});case"date":return Ce.date().required().messages({"date.base":Ie("Date","date.base"),"any.required":Ie("Date","any.required")})}},Te=function(e){return Ce.object({name:Pe("name"),price:Pe("price"),tagId:Pe("tagId"),description:Pe("description"),available:Pe("available"),stock:Pe("stock"),date:Pe("date"),publisher:Pe("publisher"),imagesGame:Pe("images")}).validate(e)},Ge=t(37),Be=t(40).formatError,Fe=function(e){switch(e){case"name":return Ge.string().max(50).min(2).regex(/^[a-zA-Z ]*$/).required().messages({"string.base":Be("Name","string.base"),"string.empty":Be("Name","string.empty"),"string.min":Be("Name","string.min"," two characters"),"string.max":Be("Name","string.max"," 50 characters"),"string.pattern.base":Be("Name","string.pattern.base","string.letterOnly"),"any.required":Be("Name","any.required")});case"username":return Ge.string().max(50).min(6).regex(/^[a-zA-Z0-9]*$/).required().messages({"string.base":Be("Username","string.base"),"string.empty":Be("Username","string.empty"),"string.min":Be("Username","string.min"," six characters"),"string.max":Be("Username","string.max"," 50 characters"),"string.pattern.base":Be("Username","string.pattern.base","string.letterAndNumber"),"any.required":Be("Username","any.required")});case"email":return Ge.string().max(70).min(6).email({tlds:{allow:!1}}).required().messages({"string.base":Be("Email","string.base"),"string.empty":Be("Email","string.empty"),"string.min":Be("Email","string.min"," six characters"),"string.email":Be("Email","string.email"),"string.max":Be("Email","string.max"," 70 characters"),"string.pattern.base":Be("Email","string.pattern.base","string.emailForm"),"any.required":Be("Email","any.required")});case"oldPassword":return Ge.string().max(32).min(8).regex(/^[a-zA-Z0-9]*$/).required().messages({"string.base":Be("Old password","string.base"),"string.empty":Be("Old password","string.empty"),"string.min":Be("Old password","string.min"," eight characters"),"string.max":Be("Old password","string.max"," 32 characters"),"string.pattern.base":Be("Old password","string.pattern.base","string.letterAndNumber"),"any.required":Be("Old password","any.required")});case"password":return Ge.string().max(32).min(8).regex(/^[a-zA-Z0-9]*$/).required().messages({"string.base":Be("Password","string.base"),"string.empty":Be("Password","string.empty"),"string.min":Be("Password","string.min"," eight characters"),"string.max":Be("Password","string.max"," 32 characters"),"string.pattern.base":Be("Password","string.pattern.base","string.letterAndNumber"),"any.required":Be("Password","any.required")});case"confirm":return Ge.string().valid(Ge.ref("password")).required().messages({"any.only":Be("Confirm","string.matchPassword"),"any.required":Be("Confirm","any.required")});case"phone":return Ge.string().regex(/^[0-9+]*$/).max(14).min(8).required().messages({"string.base":Be("Phone","string.base"),"string.empty":Be("Phone","string.empty"),"string.min":Be("Phone","string.min"," eight characters"),"string.max":Be("Phone","string.max"," fourteen characters"),"string.pattern.base":Be("Phone","string.pattern.base","string.numberOnly"),"any.required":Be("Phone","any.required")});case"address":return Ge.string().regex(/^[a-zA-Z0-9 ]*$/).max(70).min(1).required().messages({"string.base":Be("Address","string.base"),"string.empty":Be("Address","string.empty"),"string.min":Be("Address","string.min"," one character"),"string.max":Be("Address","string.max"," 70 characters"),"string.pattern.base":Be("Address","string.pattern.base","string.letterAndNumber"),"any.required":Be("Address","any.required")});case"balance":return Ge.number().max(1e4).min(1).required().messages({"number.max":Be("Balance","number.max"," $10000"),"number.min":Be("Balance","number.min"," $1"),"number.base":Be("Balance","number.base"),"any.required":Be("Balance","any.required")});case"isDeveloper":return Ge.boolean().messages({"boolean.base":Be("isDeveloper","boolean.base")})}},$e=function(e){return Ge.object({name:Fe("name"),username:Fe("username"),email:Fe("email"),password:Fe("password"),confirm:Fe("confirm"),phone:Fe("phone"),address:Fe("address")}).validate(e)},Me=function(e){return Ge.object({username:Fe("username"),password:Fe("password")}).validate(e)},ze=t(37),Ve=t(40).formatError,We=function(e){switch(e){case"name":return ze.string().max(20).min(2).regex(/^[a-zA-Z ]*$/).required().messages({"string.base":Ve("Name","string.base"),"string.empty":Ve("Name","string.empty"),"string.min":Ve("Name","string.min"," two characters"),"string.max":Ve("Name","string.max"," twenty characters"),"string.pattern.base":Ve("Name","string.pattern.base","string.letterOnly"),"any.required":Ve("Name","any.required")})}},Ze=function(e){return ze.object({name:We("name")}).validate(e)},Je=function(e){var a=e.name,t=e.placeholder,n=e.track,s=e.type,c=void 0===s?"text":s,o=Object(i.a)(e,["name","placeholder","track","type"]);return r.a.createElement("input",Object.assign({className:"form__input",name:a,type:c,autoComplete:"off",spellCheck:"false",autoCapitalize:"off",placeholder:t,ref:n},o))};var He=function(e){var a=e.name,t=e.placeholder,s=e.track,c=e.type,o=void 0===c?"password":c,i=Object(n.useState)(!1),l=Object(me.a)(i,2),u=l[0],m=l[1];return r.a.createElement("div",{className:"form__password"},r.a.createElement("input",{name:a,autoComplete:"off",spellCheck:"false",type:u?"text":o,autoCapitalize:"off",placeholder:t,ref:s}),r.a.createElement("img",{src:u?fe:he,onClick:function(){return m(!u)},alt:"seen"}))};function Ke(){var e=Object(Ue.a)(["\n    display: flex;\n\n    span {\n        margin: 0 2px;\n        display: block;\n        background: ",";\n        height: ",";\n        width: ",";\n    }\n\n    span:nth-child(1) {\n        animation: "," 1s infinite;\n    }\n\n    span:nth-child(2) {\n        animation: "," 1s infinite;\n    }\n\n    span:nth-child(3) {\n        animation: "," 1s infinite;\n    }\n    span:nth-child(4) {\n        animation: "," 1s infinite;\n    }\n"]);return Ke=function(){return e},e}function Ye(){var e=Object(Ue.a)(["\n    ","% {\n        transform: scale(1.2);\n        opacity: 0;\n    }\n\n   ("," + 20)% {\n        opacity: 1;\n    }\n"]);return Ye=function(){return e},e}var Qe=function(e,a){return Object(Le.b)(Ye(),e,e)},Xe=Le.a.div(Ke(),(function(e){return e.color}),(function(e){return e.height}),(function(e){return e.width}),Qe(20),Qe(40),Qe(60),Qe(80)),ea=function(e){var a=e.height,t=e.width,n=e.color;return r.a.createElement(Xe,{height:a,width:t,color:n},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))},aa=function(e){var a=e.label,t=e.isLoading,n=e.type,s=void 0===n?"submit":n,c=e.color,o=void 0===c?"#121212":c;return t?r.a.createElement(ea,{height:"24px",width:"12px",color:o}):r.a.createElement("button",{className:"form__btn",type:s},a)},ta=function(e){var a=e.label,t=e.linkURL;return r.a.createElement(le.b,{className:"form__link",to:t},a)},na=function(e){var a=e.error,t=e.type,n="form__alert ";return n+="error"===(void 0===t?"error":t)?"form__alert-error":"form__alert-success",r.a.createElement("div",{className:n},r.a.createElement("p",null,a))},ra=function(){document.title="Login | TNGaming";var e=Object(o.g)(),a=Object(m.b)((function(e){return e.auth})),t=Object(De.a)(),s=t.register,c=t.handleSubmit;function i(){return(i=Object(P.a)(I.a.mark((function e(a){var t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie.dispatch({type:E.type,payload:{msg:""}}),t=Me(a),!(n=t.error)){e.next=4;break}return e.abrupt("return",ie.dispatch({type:E.type,payload:{msg:n.details[0].message}}));case 4:ie.dispatch({type:f.type,payload:a}),ie.dispatch({type:F.type,payload:{value:100}});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(a.token)return e.push(pe.c.nextURL)}),[a,e]),r.a.createElement("div",{className:"form form__container form__background-img-desktop"},r.a.createElement("form",{className:"login",onSubmit:c((function(e){return i.apply(this,arguments)}))},r.a.createElement("h3",{className:"form__title"},"Login"),a.error&&r.a.createElement(na,{error:a.error}),r.a.createElement(Je,{placeholder:"Username",name:"username",track:s}),r.a.createElement(He,{placeholder:"Password",name:"password",track:s}),r.a.createElement("div",{className:"form__column"},r.a.createElement(ta,{label:"Register instead",linkURL:pe.c.registerInstead}),r.a.createElement(aa,{label:"Next",isLoading:a.loading,color:_e}))))},sa=function(){document.title="Register | TNGaming";var e=Object(o.g)(),a=Object(m.b)((function(e){return e.auth})),t=Object(De.a)(),s=t.register,c=t.handleSubmit;function i(){return(i=Object(P.a)(I.a.mark((function e(a){var t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$e(a),!(n=t.error)){e.next=6;break}return ie.dispatch({type:E.type,payload:{msg:""}}),e.abrupt("return",ie.dispatch({type:E.type,payload:{msg:n.details[0].message}}));case 6:ie.dispatch({type:E.type,payload:{msg:""}});case 7:ie.dispatch({type:se.type,payload:a}),ie.dispatch({type:F.type,payload:{value:100}});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(a.token)return e.push(pe.e.nextURL)}),[a,e]),r.a.createElement("div",{className:"form form__container form__background-img-desktop"},r.a.createElement("form",{className:"register",onSubmit:c((function(e){return i.apply(this,arguments)}))},r.a.createElement("h3",{className:"form__title"},"Register"),a.error&&r.a.createElement(na,{error:a.error}),r.a.createElement(Je,{placeholder:"Name",name:"name",track:s}),r.a.createElement(Je,{placeholder:"Username",name:"username",track:s}),r.a.createElement(He,{placeholder:"Password",name:"password",track:s}),r.a.createElement(He,{placeholder:"Confrim password",name:"confirm",track:s}),r.a.createElement(Je,{placeholder:"Email",name:"email",track:s}),r.a.createElement(Je,{placeholder:"Address",name:"address",track:s}),r.a.createElement(Je,{placeholder:"Phone",name:"phone",track:s}),r.a.createElement("div",{className:"form__column"},r.a.createElement(ta,{label:"Register instead",linkURL:pe.e.loginInstead}),r.a.createElement(aa,{label:"Next",isLoading:a.loading,color:_e}))))},ca=function(e){var a=e.label,t=e.linkURL;return r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},a)},oa=function(e){var a=e.content;return r.a.createElement("p",null,a)},ia=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer__wrapper-right"},r.a.createElement("h3",null,"Contact"),r.a.createElement(ca,{label:"Facebook",linkURL:"https://www.facebook.com/Heaty566"}),r.a.createElement(ca,{label:"Github",linkURL:"https://github.com/Heaty566"})),r.a.createElement("div",{className:"footer__wrapper-left"},r.a.createElement("h3",null,"Version"),r.a.createElement(oa,{content:" 0.9.1 beta"})))},la=function(){return document.title="Home | TNGaming",r.a.createElement("div",{className:"introduction"},r.a.createElement("div",{className:"introduction__banner"},r.a.createElement("div",{className:"banner__image"},r.a.createElement("img",{src:"/pages/images/introduction.jpg",alt:"introduction"})),r.a.createElement("div",{className:"banner__content"},r.a.createElement("div",{className:"content__title"},r.a.createElement("h1",null,"TNGaming Store"),r.a.createElement("h4",null,"AN OPEN SOURCE MERN PROJECT")),r.a.createElement("p",null,"This is a project that will work such as Steam or EpicStore in a smaller scale. We are using NodeJS and Express for back-end, React for front-end and MongoDB will be the main Database but we\u2019re going to develop with others technique as GraphQL, Typescript in the future. We hope you will learn and enjoy with this project."),r.a.createElement(le.b,{className:"content__link",to:pe.b.bannerURL},"Explore"))))},ua=function(){return document.title="About Us | TNGaming",r.a.createElement("div",{className:"aboutus"},r.a.createElement("h2",null,"Learning by listening makes your product\u2019s more productive"),r.a.createElement("h3",null,"Member"),r.a.createElement("div",{className:"members"},r.a.createElement("div",{className:"members__card"},r.a.createElement("img",{src:"/pages/images/members/simon.jpg",alt:"simon"}),r.a.createElement("h4",null,"Simon Pham"))),r.a.createElement("h3",null,"Story"),r.a.createElement("p",null,"Everytime we completed any small projects, we felt it wasn\u2019t enough for us, we want to try some thing new and more challenging, so we decided to build this project because of 3 reasons. Fist of all, It will be a great place where we can practice more about what I am learning, applying new techniques or building with different structures. Secondly, I love sharing with you guys about code, listening your feedback about what new feature we should add, what the bad feature we have to improve. Finally, we will use this project in our resumes, so I hope if you liked this project, please give us a start in Github that will give us a huge motivation to build this more helpful for you guys."),r.a.createElement("h3",null,"Extra Story"),r.a.createElement("p",null,"It\u2019s me, Simon, if you enjoy with this project, I will tell about the biggest motivation that helps me to build it everyday, That\u2019s Thinh (my wife), we have been apart halfway around the world for years because of some personal reasons, and I really hope I would meet her one day soon and we would be forever. However, I have to finish my college in VN, and then apply for my master's degree in the US to come back with her. I don\u2019t know what adversities wait for us forward, I will try my best even until my last breath."))},ma=function(e){var a=e.column,t=Object(m.b)((function(e){return e.auth.user})),n=a.label,s=a.linkURL,c=a.isAdmin,o=a.isDeveloper;return c===t.isAdmin||o===t.isDeveloper?r.a.createElement("li",{className:"dropdown__column",key:n},r.a.createElement(le.b,{className:"dropdown__link",to:p.routerURL.dashboard+s},n)):null};var da=function(e){var a=e.tag,t=Object(m.b)((function(e){return e.auth.user})),s=Object(n.useState)(!1),c=Object(me.a)(s,2),o=c[0],i=c[1],l=a.section,u=l.isAdmin,d=l.isDeveloper,p=l.label;return u===t.isAdmin||d===t.isDeveloper?r.a.createElement("div",{className:o?"controller__menu active":"controller__menu"},r.a.createElement("div",{className:"controller__section",onClick:function(){return i(!o)}},r.a.createElement("h4",null,p),r.a.createElement("img",{src:""+ve,alt:"menu"})),r.a.createElement("ul",{className:"controller__dropdown"},a.options.map((function(e,a){return r.a.createElement(ma,{column:e,key:a})})))):null};var pa=function(){return r.a.createElement("div",{className:"dashboard__controller"},r.a.createElement("h3",{className:"controller__title"},"Doashboard"),r.a.createElement("span",{className:"controller__divider"}),pe.a.contronller.map((function(e,a){return r.a.createElement(da,{key:a,tag:e})})))};var ba=function(e){var a=e.label,t=e.options,s=e.fieldName,c=e.fileValue,o=e.onChange,i=Object(n.useState)(a),l=Object(me.a)(i,2),u=l[0],m=l[1],d=Object(n.useState)(!1),p=Object(me.a)(d,2),b=p[0],g=p[1];return r.a.createElement("div",{className:"form__select"},r.a.createElement("div",{className:"select__box",onClick:function(){return g(!b)}},r.a.createElement("input",{value:u,disabled:!0}),r.a.createElement("img",{src:""+ve,alt:"icon"})),b&&r.a.createElement("ul",{className:"select__dropdown",onBlur:function(){return g(!1)},tabIndex:"0"},t.map((function(e){return r.a.createElement("li",{onClick:function(){return m((a=e)[c]),void o(a);var a},key:e._id},r.a.createElement("p",null,e[s]))}))))},ga=function(e){var a=e.name,t=e.label,n=e.track,s=e.description,c=void 0===s?"":s;return r.a.createElement("div",{className:"form__checkbox"},r.a.createElement("input",{type:"checkbox",name:a,id:a,ref:n}),r.a.createElement("label",{htmlFor:a},t),c&&r.a.createElement("p",null,c))};var fa=function(){var e=Object(m.b)((function(e){return e.auth.token})),a=Object(n.useState)([]),t=Object(me.a)(a,2),s=t[0],c=t[1],o=Object(n.useState)(null),i=Object(me.a)(o,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){e&&W.allUsers(e).then((function(e){var a=e.data;c(a.data)}))}),[e]),r.a.createElement("div",{className:" form dash__role"},r.a.createElement("h3",{className:"form__title "},"Set User Role"),r.a.createElement("form",{className:"dash__userSetRole dash__grid",onSubmit:function(a){a.preventDefault(),W.toggleUserAdmin(e,l)}},r.a.createElement(ba,{label:"Select User",options:s,field:"username",onChange:function(e){var a=e._id;u(a)}}),r.a.createElement("div",null,r.a.createElement(ga,{name:"admin",label:"Admin"}),r.a.createElement(ga,{name:"developer",label:"Developer"})),r.a.createElement(aa,{label:"Submit"})))},ha=t(19),va=t(44),ya=t.n(va);var Ea=function(e){var a=e.onChange,t=e.name,s=e.track,c=Object(n.useState)("01"),o=Object(me.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)([]),m=Object(me.a)(u,2),d=m[0],p=m[1],b=Object(n.useState)("01"),g=Object(me.a)(b,2),f=g[0],h=g[1],v=Object(n.useState)([]),y=Object(me.a)(v,2),E=y[0],_=y[1],w=Object(n.useState)("2000"),x=Object(me.a)(w,2),N=x[0],j=x[1],O=Object(n.useState)([]),U=Object(me.a)(O,2),L=U[0],R=U[1];return Object(n.useEffect)((function(){p(k.a.range(1,ya()("".concat(N,"-").concat(f)).daysInMonth()+1).map((function(e){return("0"+e).slice(-2)}))),_(k.a.range(1,13).map((function(e){return("0"+e).slice(-2)}))),R(k.a.range(2e3,Number(ya()().format("YYYY"))+5)),a(t,"".concat(N,"-").concat(f,"-").concat(i))}),[i,f,N,a,t]),r.a.createElement("div",{className:"form__datepicker"},r.a.createElement("select",{ref:s,value:i,onChange:function(e){var a=e.currentTarget;return l(a.value)}},d.map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("select",{value:f,onChange:function(e){var a=e.currentTarget;return h(a.value)}},E.map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("select",{value:N,onChange:function(e){var a=e.currentTarget;return j(a.value)}},L.map((function(e){return r.a.createElement("option",{key:e},e)}))))};var _a=function(e){var a=e.name,t=e.label,s=e.options,c=e.fieldName,o=e.fieldValue,i=e.onChange,l=Object(n.useState)(t),u=Object(me.a)(l,2),m=u[0],d=u[1],p=Object(n.useState)([]),b=Object(me.a)(p,2),g=b[0],f=b[1],h=Object(n.useState)(!1),v=Object(me.a)(h,2),y=v[0],E=v[1];Object(n.useEffect)((function(){f(s.map((function(){return!1})))}),[s]),Object(n.useEffect)((function(){var e=s.filter((function(e,a){return g[a]})).map((function(e){return e[o]}));i(a,e)}),[g,o,s,i,a]);var _=function(){var e=Object(P.a)(I.a.mark((function e(a){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(s[a][c]),t=g.map((function(e,t){return a===t?!e:e})),f(t);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"form__selectmultiple form__select"},r.a.createElement("div",{className:"select__box",onClick:function(){return E(!y)}},r.a.createElement("input",{value:m,disabled:!0}),r.a.createElement("img",{src:""+ve,alt:"icon"})),y&&r.a.createElement("ul",{className:"select__dropdown",onBlur:function(){return E(!1)},tabIndex:"0"},s.map((function(e,a){return r.a.createElement("li",{onClick:function(){return _(a)},key:e._id,className:g[a]?"active":""},r.a.createElement("p",null,e[c]))}))))},wa=function(e){var a=e.name,t=e.limits,n=e.label,s=e.track,c=e.value,o=t-(void 0===c?"":c).length;return r.a.createElement("div",{className:"form__textarea"},r.a.createElement("textarea",{name:a,id:a,maxLength:t,placeholder:n,ref:s}),r.a.createElement("p",null,o,"/",t))},xa=function(e){var a=e.track,t=e.name,n=e.file,s=void 0===n?[]:n,c=Object(i.a)(e,["track","name","file"]),o=1===s.length?s[0].name:s.length+" files";return r.a.createElement("div",{className:"form__image"},r.a.createElement("input",Object.assign({type:"file",id:t,name:t,accept:"image/png, image/jpeg, image/jpg",ref:a},c)),r.a.createElement("label",{htmlFor:t},o,r.a.createElement("img",{src:""+Ee,alt:"icon"})))};var Na=function(){var e=Object(n.useState)([]),a=Object(me.a)(e,2),t=a[0],s=a[1],c=Object(De.a)(),o=c.register,i=c.handleSubmit,l=c.watch,u=c.setValue,d=Object(m.b)((function(e){return e.auth})),p=Object(n.useState)({type:"",msg:""}),b=Object(me.a)(p,2),g=b[0],f=b[1],h=Object(n.useState)(!1),v=Object(me.a)(h,2),y=v[0],E=v[1],_=l("banner"),x=l("imagesGame"),N=l("description");return Object(n.useEffect)((function(){o("date"),o("tagId")}),[o]),Object(n.useEffect)((function(){d.token&&ee.getAllTags(d.token).then((function(e){var a=e.data;s(a.data)}))}),[d.token]),r.a.createElement("div",{className:"from"},r.a.createElement("form",{className:"dash__addnewgame",onSubmit:i((function(e){f({type:"",msg:""}),e.imagesGame=[e.banner[0]].concat(Object(w.a)(e.imagesGame)),delete e.banner;var a=Te(e).error;if(a)return f({type:"error",msg:a.details[0].message});var t,n=new FormData,r=Object(ha.a)(e.imagesGame);try{for(r.s();!(t=r.n()).done;){var s=t.value;n.append("imagesGame",s)}}catch(l){r.e(l)}finally{r.f()}var c,o=Object(ha.a)(e.tagId);try{for(o.s();!(c=o.n()).done;){var i=c.value;n.append("tagId",i)}}catch(l){o.e(l)}finally{o.f()}n.append("name",e.name),n.append("price",e.price),n.append("publisher",e.publisher),n.append("available",e.available),n.append("stock",e.stock),n.append("description",e.description),n.append("date",e.date),E(!0),K.addNewGame(d.token,n).then((function(){f({type:"success",msg:"Game uploaded successfully"})})).catch((function(e){var a=e.response;f({type:"error",msg:a.data.msg})})).finally((function(){E(!1),ie.dispatch({type:F.type,payload:{value:100}})}))}))},r.a.createElement("h3",{className:"form__title"},"Add New Game"),r.a.createElement("div",{className:"dash__row"},r.a.createElement("div",{className:"dash__box"},r.a.createElement("h4",{className:"form__title"},"About Game")),r.a.createElement("div",{className:"dash__col "},g.msg&&r.a.createElement(na,{error:g.msg,type:g.type}))),r.a.createElement("div",{className:"dash__row"},r.a.createElement("div",{className:"dash__col dash__box"},r.a.createElement("p",{className:"col__tag"},"Name"),r.a.createElement(Je,{name:"name",track:o})),r.a.createElement("div",{className:"dash__box"},r.a.createElement("p",{className:"col__tag"},"Price"),r.a.createElement(Je,{name:"price",track:o})),r.a.createElement("div",{className:"dash__box"},r.a.createElement("p",{className:"col__tag"},"Date"),r.a.createElement(Ea,{onChange:u,name:"date"}))),r.a.createElement("div",{className:"dash__row"},r.a.createElement("div",{className:"dash__box"},r.a.createElement("p",{className:"col__tag"},"Publisher"),r.a.createElement(Je,{name:"publisher",track:o})),r.a.createElement("div",{className:"dash__box"},r.a.createElement("p",{className:"col__tag"},"Developer"),r.a.createElement(Je,{placeholder:d.user.username,disabled:!0})),r.a.createElement("div",{className:"dash__box"},r.a.createElement("p",{className:"col__tag"},"Available"),r.a.createElement(ga,{name:"available",track:o,description:"Customer can\u2019t find your game if it\u2019s unavailable."}))),r.a.createElement("div",{className:"dash__row"},r.a.createElement("div",{className:"dash__box"},r.a.createElement("p",{className:"col__tag"},"Tag"),r.a.createElement(_a,{label:"Tag",name:"tagId",options:t,fieldName:"name",fieldValue:"_id",onChange:u})),r.a.createElement("div",{className:"dash__box"},r.a.createElement("p",{className:"col__tag"},"Stock"),r.a.createElement(Je,{name:"stock",track:o})),r.a.createElement("div",{className:"dash__col dash__box"})),r.a.createElement("div",{className:"dash__row"},r.a.createElement("div",{className:"dash__col dash__col-3"},r.a.createElement("p",{className:"col__tag"},"Description"),r.a.createElement(wa,{name:"description",limits:5e3,track:o,value:N}))),r.a.createElement("div",{className:"dash__row"},r.a.createElement("div",{className:"dash__box"},r.a.createElement("p",{className:"col__tag"},"Banner Image"),r.a.createElement(xa,{name:"banner",track:o,file:_})),r.a.createElement("div",{className:"dash__box"},r.a.createElement("p",{className:"col__tag"},"Images"),r.a.createElement(xa,{name:"imagesGame",track:o,file:x,multiple:!0}))),r.a.createElement("div",{className:"dash__row"},r.a.createElement("div",{className:"dash__box"},r.a.createElement(aa,{label:"Submit",isLoading:y,color:we})))))},ka=function(){var e=Object(De.a)(),a=e.handleSubmit,t=e.register,s=Object(n.useState)({type:"",msg:""}),c=Object(me.a)(s,2),o=c[0],i=c[1],l=Object(m.b)((function(e){return e.auth})),u=Object(n.useState)([]),d=Object(me.a)(u,2),p=d[0],b=d[1],g=Object(n.useState)(!1),f=Object(me.a)(g,2),h=f[0],v=f[1];Object(n.useEffect)((function(){l.token&&ee.getAllTags(l.token).then((function(e){var a=e.data;b(a.data)}))}),[l.token]);return r.a.createElement("div",{className:"from"},r.a.createElement("form",{className:"dash__addnewgame",onSubmit:a((function(e){i({type:"",msg:""});var a=Ze(e).error;if(a)return i({type:"error",msg:a.details[0].message});v(!0),ee.addNewTag(l.token,e).then((function(){i({type:"success",msg:"Tag uploaded successfully"}),b([])})).catch((function(e){var a=e.response;i({type:"error",msg:a.data.msg})})).finally((function(){v(!1),ie.dispatch({type:F.type,payload:{value:100}})}))}))},r.a.createElement("h3",{className:"form__title"},"Add New Tag"),r.a.createElement("div",{className:"dash__row"},r.a.createElement("div",{className:"dash__box"},r.a.createElement("h4",{className:"form__title"},"Tags:")),r.a.createElement("div",{className:"dash__col "},o.msg&&r.a.createElement(na,{error:o.msg,type:o.type}))),r.a.createElement("div",{className:"dash__row"},r.a.createElement("div",{className:"dash__col dash__col-3"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"table__thead"},r.a.createElement("tr",{className:"table__tr"},r.a.createElement("th",{className:"table__th"},"No"),r.a.createElement("th",{className:"table__th"},"Tag Name"))),r.a.createElement("tbody",{className:"table__tbody"},p.map((function(e,a){return r.a.createElement("tr",{className:"table__tr",key:e._id},r.a.createElement("td",{className:"table__td"},a),r.a.createElement("td",{className:"table__td"},e.name))})))))),r.a.createElement("div",{className:"dash__row"},r.a.createElement("div",{className:"dash__box"},r.a.createElement("p",{className:"col__tag"},"New Tag"),r.a.createElement(Je,{name:"name",placeholder:"name",track:t}))),r.a.createElement("div",{className:"dash__row"},r.a.createElement("div",{className:"dash__box"},r.a.createElement(aa,{label:"Submit",isLoading:h,color:we})))))},ja=function(e){var a=e.component,t=Object(i.a)(e,["component"]),n=Object(m.b)((function(e){return e.auth}));return r.a.createElement(o.b,Object.assign({},t,{render:function(e){return n.user.isAdmin?r.a.createElement(a,e):r.a.createElement(o.a,{to:{pathname:"/",state:{from:e.location}}})}}))},Oa=function(){return r.a.createElement("div",{className:"dashboard__main"},r.a.createElement(o.d,null,r.a.createElement(ja,{path:p.routerURL.dashboard+"/game/tag/addnewtag",exact:!0,component:ka}),r.a.createElement(ja,{path:p.routerURL.dashboard+"/user/setrole",exact:!0,component:fa}),r.a.createElement(d,{path:p.routerURL.dashboard+"/game/addnewgame",exact:!0,component:Na})))},Ua=function(){return document.title="Dashboard | TNGaming",r.a.createElement("div",{className:"dashboard"},r.a.createElement(pa,null),r.a.createElement(Oa,null))};var La=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"layout__container"},r.a.createElement("header",{className:"navbar__container"},r.a.createElement(Ae,null)),r.a.createElement("main",{className:"main__container"},r.a.createElement(o.d,null,r.a.createElement(o.b,{path:p.routerURL.home,exact:!0,component:la}),r.a.createElement(o.b,{path:p.routerURL.aboutus,exact:!0,component:ua}),r.a.createElement(u,{path:p.routerURL.userLogin,component:ra}),r.a.createElement(u,{path:p.routerURL.userRegister,component:sa}),r.a.createElement(d,{path:p.routerURL.dashboard,component:Ua}),r.a.createElement(o.a,{from:"/",exact:!0,to:"/home"}))),r.a.createElement("footer",{className:"footer__container"},r.a.createElement(ia,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ra=t(121);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ra.a,null,r.a.createElement(le.a,null,r.a.createElement(m.a,{store:ie},r.a.createElement(La,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},40:function(e,a){var t={objectId:"is invalid","any.required":"is required","string.matchPassword":"doesn't match password","date.base":"must be a valid date","array.base":"must be an array","array.max":"must contain less than or equal to","array.min":"must contain at least","boolean.base":"must be true or false","number.min":"must be larger than or equal to ","number.max":"must be less than or equal to","number.base":"must be a number","string.emailForm":" an email","string.letterOnly":" letters only","string.numberOnly":" numbers only","string.email":"must be a valid email","string.letterAndNumber":" letters and numbers only","string.base":"must be a string","string.empty":"is not allowed to be empty","string.pattern.base":"must contain","string.min":"must contain at least","string.max":"must be less than or equal to"};e.exports={formatError:function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return"".concat(e," ").concat(t[a]).concat(t[n]?t[n]:n)}}},6:function(e){e.exports=JSON.parse('{"serverURL":{"development":"http://localhost:4000/api","production":"https://gamesstore-demo.herokuapp.com/api"},"endPointURL":{"tagsURL":"/games/tags","usersURL":"/users","userGamesURL":"/users/games","gamesURL":"/games","authURL":"/users","adminURL":"/users/admin","developerURL":"/users/developer"},"routerURL":{"home":"/home","aboutus":"/aboutus","userLogin":"/users/login","userRegister":"/users/register","dashboard":"/users/dashboard"}}')},62:function(e){e.exports=JSON.parse('{"cookies":{"maxAge":86400}}')},66:function(e,a,t){e.exports=t(118)},71:function(e,a,t){},8:function(e){e.exports=JSON.parse('{"d":{"navBrandURL":"/home","searchBoxURL":"/games/search","searchPushToGame":"/game","loginURL":"/users/login","registerURL":"/users/register","aboutUsURL":"/aboutus","storeURL":"/games/","userBtn":{"profileURL":"/users/me","libraryURL":"#","communityURL":"#","adminDashboardURL":"/users/dashboard","developerDashboardURL":"/users/dashboard","logoutURL":"/home"}},"c":{"nextURL":"/home","registerInstead":"/users/register"},"e":{"nextURL":"/home","loginInstead":"/users/login"},"b":{"bannerURL":"/store"},"a":{"contronller":[{"section":{"label":"User","isAdmin":true,"isDeveloper":false},"options":[{"label":"Overview","linkURL":"/user/overview","isAdmin":true,"isDeveloper":false},{"label":"Set Role","linkURL":"/user/setrole","isAdmin":true,"isDeveloper":false}]},{"section":{"label":"Developer","isAdmin":true,"isDeveloper":true},"options":[]},{"section":{"label":"Game","isAdmin":true,"isDeveloper":true},"options":[{"label":"Overview","linkURL":"#","isAdmin":true,"isDeveloper":false},{"label":"Add New Game","linkURL":"/game/addnewgame","isAdmin":true,"isDeveloper":true},{"label":"Add New tag","linkURL":"/game/tag/addnewtag","isAdmin":true,"isDeveloper":false}]}]}}')}},[[66,1,2]]]);
//# sourceMappingURL=main.21ce00fa.chunk.js.map