{"version":3,"sources":["js/utils/validateForm/games.js","js/utils/validateForm/users.js","js/components/routers/protectedRouter.jsx","js/stores/auth.jsx","js/stores/searchBox.jsx","js/stores/notification.jsx","js/services/http.js","js/services/users/users.js","js/services/users/games.js","js/services/admin/users.js","js/services/admin/genres.js","js/services/games/games.js","js/services/index.js","js/stores/users.jsx","js/stores/configStore.jsx","js/stores/middlewares/getSearchResult.jsx","js/stores/middlewares/registerUser.jsx","js/stores/middlewares/loginUserAPI.jsx","js/components/navbar/navBrand.jsx","js/constant/icons.js","js/constant/colors.js","js/components/navbar/common/navSearchbox.jsx","js/components/navbar/common/navLink.jsx","js/components/navbar/common/navUser.jsx","js/components/navbar/navGrourpBtn.jsx","js/containers/navbar.jsx","js/utils/validateForm/index.js","js/components/form/fromInput.jsx","js/components/form/formPassword.jsx","js/components/loading/loading.jsx","js/components/form/formBtn.jsx","js/components/form/formLink.jsx","js/components/form/formError.jsx","js/containers/login.jsx","js/containers/register.jsx","js/components/footer/footerLink.jsx","js/components/footer/footerText.jsx","js/containers/footer.jsx","js/containers/home.jsx","js/containers/aboutus.jsx","App.js","serviceWorker.js","index.js","js/utils/validateForm/validateErrorFormat.js","js/utils/validateForm/genres.js"],"names":["Joi","require","objectId","formatError","schemasGamesValidate","type","string","max","min","regex","required","messages","number","array","items","allow","boolean","date","module","exports","validateGameNew","game","object","name","price","genreId","description","available","stock","publisher","validate","validateGameRestock","validateGameUpdate","schemasUserValidate","email","tlds","valid","ref","validateUser","user","username","password","confirm","phone","address","validateLoginUser","validateUpdatePassword","oldPassword","validateUpdateProfile","validateAddBalance","balance","ProtectedRouter","Component","component","rest","cookies","Cookies","render","props","get","to","pathname","state","from","location","auth","createSlice","initialState","token","loading","error","lastFeatch","reducers","updateUser","action","payload","updateLoading","updateError","Date","now","msg","loginUser","createAction","actions","logoutUser","searchBox","results","updateSearchValue","updateSearchResults","_","data","take","value","onChangeSearchBox","notification","errId","updateMessage","convertError","errorId","axios","defaults","baseURL","config","serverURL","production","configHeader","headers","http","post","put","delete","endPoint","endPointURL","usersURL","a","catch","ex","response","objPassword","userGamesURL","gameId","adminURL","genresURL","gamesURL","page","searchKey","usersService","users","addBalance","changeUserPassword","getUser","registerUser","updateProfile","uploadAvatar","loginUserWithCookie","games","addGameToWishList","removeGameFromWishList","addGameToCart","removeGameFromCart","purchaseGames","gamesService","getGame","getGames","getGameByGenre","getGameBySearchKey","entities","combineReducers","reducer","store","configureStore","middleware","getDefaultMiddleware","dispatch","next","then","err","message","login","set","maxAge","path","NavBrand","brandURL","linkURL","className","src","process","alt","NavSearchbox","history","useHistory","useSelector","useState","active","setActive","search","setSearch","select","setSelect","useDebounce","handleOnKeyDown","useCallback","keyCode","push","navbar","searchPushToGame","_id","searchBoxURL","length","useEffect","onChange","input","currentTarget","onFocus","onBlur","onKeyDown","placeholder","autoComplete","id","icons","map","option","index","key","onMouseLeave","onMouseEnter","onClick","NavLink","label","outline","NavUser","handleLogout","remove","drawerClass","Fragment","avatar","userBtn","profileURL","libraryURL","communityURL","isAdmin","isDeveloper","adminDashboardURL","developerDashboardURL","NavGroupBtn","storeURL","aboutUsURL","loginURL","registerURL","Navbar","cookie","navBrandURL","validateGenre","FormInput","track","spellCheck","autoCapitalize","FormPassword","visible","setVisible","loadingAnimation","start","time","keyframes","LoadingContainer","styled","div","color","height","width","Loading","FormBtn","isLoading","colors","FormLink","FormError","Login","document","title","useForm","register","handleSubmit","details","nextURL","onSubmit","registerInstead","Register","registerLink","loginInstead","FooterLink","href","target","rel","FooterText","content","Footer","Home","introduction","bannerURL","AboutUs","App","exact","Boolean","window","hostname","match","ReactDOM","StrictMode","CookiesProvider","getElementById","navigator","serviceWorker","ready","registration","unregister","console","pattern","schemasGenreValidate","genre"],"mappings":"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","file":"static/js/main.be2b551c.chunk.js","sourcesContent":["const Joi = require(\"@hapi/joi\");\r\nJoi.objectId = require(\"joi-objectid\")(Joi);\r\n\r\nconst {\r\n    formatError\r\n} = require(\"./validateErrorFormat\");\r\n\r\nconst schemasGamesValidate = (type) => {\r\n    switch (type) {\r\n        case \"name\":\r\n            return Joi.string()\r\n                .max(50)\r\n                .min(1)\r\n                .regex(/^[a-zA-Z0-9- ]*$/)\r\n                .required()\r\n                .messages({\r\n                    \"string.base\": formatError(\"Name\", \"string.base\"),\r\n                    \"string.empty\": formatError(\"Name\", \"string.empty\"),\r\n                    \"string.min\": formatError(\"Name\", \"string.min\", \" one character\"),\r\n                    \"string.max\": formatError(\"Name\", \"string.max\", \" 50 characters\"),\r\n                    \"string.pattern.base\": formatError(\"Name\", \"string.pattern.base\", \"string.letterOnly\"),\r\n                    \"any.required\": formatError(\"Name\", \"any.required\"),\r\n                });\r\n\r\n        case \"price\":\r\n            return Joi.number()\r\n                .max(5000)\r\n                .min(0)\r\n                .required()\r\n                .messages({\r\n                    \"number.max\": formatError(\"price\", \"number.max\", \" $5000\"),\r\n                    \"number.min\": formatError(\"price\", \"number.min\", \" $0\"),\r\n                    \"number.base\": formatError(\"price\", \"number.base\"),\r\n                    \"any.required\": formatError(\"price\", \"any.required\"),\r\n                });\r\n\r\n        case \"stock\":\r\n            return Joi.number()\r\n                .max(5000)\r\n                .min(1)\r\n                .required()\r\n                .messages({\r\n                    \"number.max\": formatError(\"stock\", \"number.max\", \" 5000\"),\r\n                    \"number.min\": formatError(\"stock\", \"number.min\", \" one\"),\r\n                    \"number.base\": formatError(\"stock\", \"number.base\"),\r\n                    \"any.required\": formatError(\"stock\", \"any.required\"),\r\n                });\r\n\r\n        case \"genreId\":\r\n            return Joi.array()\r\n                .items(Joi.objectId())\r\n                .max(20)\r\n                .min(1)\r\n                .required()\r\n                .messages({\r\n                    \"string.empty\": formatError(\"Genre\", \"string.empty\"),\r\n                    \"array.max\": formatError(\"Genre\", \"array.max\", \" twenty genres\"),\r\n                    \"array.min\": formatError(\"Genre\", \"array.min\", \" one genre\"),\r\n                    \"any.required\": formatError(\"Genre\", \"any.required\"),\r\n                });\r\n\r\n        case \"description\":\r\n            return Joi.string()\r\n                .allow(\"\")\r\n                .max(5000)\r\n                .required()\r\n                .messages({\r\n                    \"string.base\": formatError(\"Description\", \"string.base\"),\r\n                    \"string.max\": formatError(\"Description\", \"string.max\", \" 50000 characters\"),\r\n                    \"any.required\": formatError(\"Description\", \"any.required\"),\r\n                });\r\n        case \"available\":\r\n            return Joi.boolean()\r\n                .required()\r\n                .messages({\r\n                    \"boolean.base\": formatError(\"available\", \"boolean.base\"),\r\n                    \"any.required\": formatError(\"available\", \"any.required\"),\r\n                });\r\n        case \"publisher\":\r\n            return Joi.string()\r\n                .max(50)\r\n                .min(1)\r\n                .regex(/^[a-zA-Z0-9- ]*$/)\r\n                .required()\r\n                .messages({\r\n                    \"string.base\": formatError(\"publisher\", \"string.base\"),\r\n                    \"string.empty\": formatError(\"publisher\", \"string.empty\"),\r\n                    \"string.min\": formatError(\"publisher\", \"string.min\", \" one character\"),\r\n                    \"string.max\": formatError(\"publisher\", \"string.max\", \" 50 characters\"),\r\n                    \"string.pattern.base\": formatError(\"publisher\", \"string.pattern.base\", \"string.letterOnly\"),\r\n                    \"any.required\": formatError(\"publisher\", \"any.required\"),\r\n                });\r\n        case \"date\":\r\n            return Joi.date()\r\n                .required()\r\n                .messages({\r\n                    \"date.base\": formatError(\"Date\", \"date.base\"),\r\n                    \"any.required\": formatError(\"Date\", \"any.required\"),\r\n                });\r\n        default:\r\n            break;\r\n    }\r\n};\r\n\r\nconst validateGameNew = (game) => {\r\n    const schema = Joi.object({\r\n        name: schemasGamesValidate(\"name\"),\r\n        price: schemasGamesValidate(\"price\"),\r\n        genreId: schemasGamesValidate(\"genreId\"),\r\n        description: schemasGamesValidate(\"description\"),\r\n        available: schemasGamesValidate(\"available\"),\r\n        stock: schemasGamesValidate(\"stock\"),\r\n        date: schemasGamesValidate(\"date\"),\r\n        publisher: schemasGamesValidate(\"publisher\"),\r\n    });\r\n\r\n    return schema.validate(game);\r\n};\r\n\r\nconst validateGameUpdate = (game) => {\r\n    const schema = Joi.object({\r\n        name: schemasGamesValidate(\"name\"),\r\n        price: schemasGamesValidate(\"price\"),\r\n        genreId: schemasGamesValidate(\"genreId\"),\r\n        description: schemasGamesValidate(\"description\"),\r\n        available: schemasGamesValidate(\"available\"),\r\n        date: schemasGamesValidate(\"date\"),\r\n        publisher: schemasGamesValidate(\"publisher\"),\r\n    });\r\n\r\n    return schema.validate(game);\r\n};\r\n\r\nconst validateGameRestock = (stock) => {\r\n    const schema = Joi.object({\r\n        stock: schemasGamesValidate(\"stock\"),\r\n    });\r\n\r\n    return schema.validate({\r\n        stock\r\n    });\r\n};\r\n\r\nmodule.exports = {\r\n    validateGameNew,\r\n    validateGameRestock,\r\n    validateGameUpdate\r\n};","const Joi = require(\"@hapi/joi\");\r\n\r\nconst { formatError } = require(\"./validateErrorFormat\");\r\n\r\nconst schemasUserValidate = (type) => {\r\n    switch (type) {\r\n        case \"name\":\r\n            return Joi.string()\r\n                .max(50)\r\n                .min(2)\r\n                .regex(/^[a-zA-Z ]*$/)\r\n                .required()\r\n                .messages({\r\n                    \"string.base\": formatError(\"Name\", \"string.base\"),\r\n                    \"string.empty\": formatError(\"Name\", \"string.empty\"),\r\n                    \"string.min\": formatError(\"Name\", \"string.min\", \" two characters\"),\r\n                    \"string.max\": formatError(\"Name\", \"string.max\", \" 50 characters\"),\r\n                    \"string.pattern.base\": formatError(\"Name\", \"string.pattern.base\", \"string.letterOnly\"),\r\n                    \"any.required\": formatError(\"Name\", \"any.required\"),\r\n                });\r\n\r\n        case \"username\":\r\n            return Joi.string()\r\n                .max(50)\r\n                .min(6)\r\n                .regex(/^[a-zA-Z0-9]*$/)\r\n                .required()\r\n                .messages({\r\n                    \"string.base\": formatError(\"Username\", \"string.base\"),\r\n                    \"string.empty\": formatError(\"Username\", \"string.empty\"),\r\n                    \"string.min\": formatError(\"Username\", \"string.min\", \" six characters\"),\r\n                    \"string.max\": formatError(\"Username\", \"string.max\", \" 50 characters\"),\r\n                    \"string.pattern.base\": formatError(\"Username\", \"string.pattern.base\", \"string.letterAndNumber\"),\r\n                    \"any.required\": formatError(\"Username\", \"any.required\"),\r\n                });\r\n\r\n        case \"email\":\r\n            return Joi.string()\r\n                .max(70)\r\n                .min(6)\r\n                .email({ tlds: { allow: false } })\r\n                .required()\r\n                .messages({\r\n                    \"string.base\": formatError(\"Email\", \"string.base\"),\r\n                    \"string.empty\": formatError(\"Email\", \"string.empty\"),\r\n                    \"string.min\": formatError(\"Email\", \"string.min\", \" six characters\"),\r\n                    \"string.email\": formatError(\"Email\", \"string.email\"),\r\n                    \"string.max\": formatError(\"Email\", \"string.max\", \" 70 characters\"),\r\n                    \"string.pattern.base\": formatError(\"Email\", \"string.pattern.base\", \"string.emailForm\"),\r\n                    \"any.required\": formatError(\"Email\", \"any.required\"),\r\n                });\r\n\r\n        case \"oldPassword\":\r\n            return Joi.string()\r\n                .max(32)\r\n                .min(8)\r\n                .regex(/^[a-zA-Z0-9]*$/)\r\n                .required()\r\n                .messages({\r\n                    \"string.base\": formatError(\"Old password\", \"string.base\"),\r\n                    \"string.empty\": formatError(\"Old password\", \"string.empty\"),\r\n                    \"string.min\": formatError(\"Old password\", \"string.min\", \" eight characters\"),\r\n                    \"string.max\": formatError(\"Old password\", \"string.max\", \" 32 characters\"),\r\n                    \"string.pattern.base\": formatError(\"Old password\", \"string.pattern.base\", \"string.letterAndNumber\"),\r\n                    \"any.required\": formatError(\"Old password\", \"any.required\"),\r\n                });\r\n\r\n        case \"password\":\r\n            return Joi.string()\r\n                .max(32)\r\n                .min(8)\r\n                .regex(/^[a-zA-Z0-9]*$/)\r\n                .required()\r\n                .messages({\r\n                    \"string.base\": formatError(\"Password\", \"string.base\"),\r\n                    \"string.empty\": formatError(\"Password\", \"string.empty\"),\r\n                    \"string.min\": formatError(\"Password\", \"string.min\", \" eight characters\"),\r\n                    \"string.max\": formatError(\"Password\", \"string.max\", \" 32 characters\"),\r\n                    \"string.pattern.base\": formatError(\"Password\", \"string.pattern.base\", \"string.letterAndNumber\"),\r\n                    \"any.required\": formatError(\"Password\", \"any.required\"),\r\n                });\r\n\r\n        case \"confirm\":\r\n            return Joi.string()\r\n                .valid(Joi.ref(\"password\"))\r\n                .required()\r\n                .messages({\r\n                    \"any.only\": formatError(\"Confirm\", \"string.matchPassword\"),\r\n                    \"any.required\": formatError(\"Confirm\", \"any.required\"),\r\n                });\r\n\r\n        case \"phone\":\r\n            return Joi.string()\r\n                .regex(/^[0-9+]*$/)\r\n                .max(14)\r\n                .min(8)\r\n                .required()\r\n                .messages({\r\n                    \"string.base\": formatError(\"Phone\", \"string.base\"),\r\n                    \"string.empty\": formatError(\"Phone\", \"string.empty\"),\r\n                    \"string.min\": formatError(\"Phone\", \"string.min\", \" eight characters\"),\r\n                    \"string.max\": formatError(\"Phone\", \"string.max\", \" fourteen characters\"),\r\n                    \"string.pattern.base\": formatError(\"Phone\", \"string.pattern.base\", \"string.numberOnly\"),\r\n                    \"any.required\": formatError(\"Phone\", \"any.required\"),\r\n                });\r\n\r\n        case \"address\":\r\n            return Joi.string()\r\n                .regex(/^[a-zA-Z0-9 ]*$/)\r\n                .max(70)\r\n                .min(1)\r\n                .required()\r\n                .messages({\r\n                    \"string.base\": formatError(\"Address\", \"string.base\"),\r\n                    \"string.empty\": formatError(\"Address\", \"string.empty\"),\r\n                    \"string.min\": formatError(\"Address\", \"string.min\", \" one character\"),\r\n                    \"string.max\": formatError(\"Address\", \"string.max\", \" 70 characters\"),\r\n                    \"string.pattern.base\": formatError(\"Address\", \"string.pattern.base\", \"string.letterAndNumber\"),\r\n                    \"any.required\": formatError(\"Address\", \"any.required\"),\r\n                });\r\n\r\n        case \"balance\":\r\n            return Joi.number()\r\n                .max(10000)\r\n                .min(1)\r\n                .required()\r\n                .messages({\r\n                    \"number.max\": formatError(\"Balance\", \"number.max\", \" $10000\"),\r\n                    \"number.min\": formatError(\"Balance\", \"number.min\", \" $1\"),\r\n                    \"number.base\": formatError(\"Balance\", \"number.base\"),\r\n                    \"any.required\": formatError(\"Balance\", \"any.required\"),\r\n                });\r\n\r\n        case \"isDeveloper\":\r\n            return Joi.boolean().messages({\r\n                \"boolean.base\": formatError(\"isDeveloper\", \"boolean.base\"),\r\n            });\r\n\r\n        default:\r\n            break;\r\n    }\r\n};\r\n\r\nconst validateUser = (user) => {\r\n    const schema = Joi.object({\r\n        name: schemasUserValidate(\"name\"),\r\n        username: schemasUserValidate(\"username\"),\r\n        email: schemasUserValidate(\"email\"),\r\n        password: schemasUserValidate(\"password\"),\r\n        confirm: schemasUserValidate(\"confirm\"),\r\n        phone: schemasUserValidate(\"phone\"),\r\n        address: schemasUserValidate(\"address\"),\r\n    });\r\n\r\n    return schema.validate(user);\r\n};\r\n\r\nconst validateLoginUser = (user) => {\r\n    const schema = Joi.object({\r\n        username: schemasUserValidate(\"username\"),\r\n        password: schemasUserValidate(\"password\"),\r\n    });\r\n\r\n    return schema.validate(user);\r\n};\r\n\r\nconst validateUpdatePassword = (password) => {\r\n    const schema = Joi.object({\r\n        oldPassword: schemasUserValidate(\"oldPassword\"),\r\n        password: schemasUserValidate(\"password\"),\r\n        confirm: schemasUserValidate(\"confirm\"),\r\n    });\r\n\r\n    return schema.validate(password);\r\n};\r\n\r\nconst validateUpdateProfile = (user) => {\r\n    const schema = Joi.object({\r\n        name: schemasUserValidate(\"name\"),\r\n        email: schemasUserValidate(\"email\"),\r\n        phone: schemasUserValidate(\"phone\"),\r\n        address: schemasUserValidate(\"address\"),\r\n    });\r\n\r\n    return schema.validate(user);\r\n};\r\n\r\nconst validateAddBalance = (balance) => {\r\n    const schema = Joi.object({\r\n        balance: schemasUserValidate(\"balance\"),\r\n    });\r\n\r\n    return schema.validate(balance);\r\n};\r\n\r\nmodule.exports = { validateUser, validateLoginUser, validateUpdatePassword, validateUpdateProfile, validateAddBalance };\r\n","import React from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRouter = ({ component: Component, ...rest }) => {\r\n    const cookies = new Cookies();\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) => {\r\n                if (!cookies.get(\"x-auth-token\")) {\r\n                    return <Component {...props} />;\r\n                } else {\r\n                    return (\r\n                        <Redirect\r\n                            to={{\r\n                                pathname: \"/\",\r\n                                state: { from: props.location },\r\n                            }}\r\n                        />\r\n                    );\r\n                }\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default ProtectedRouter;\r\n","import { createAction, createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst auth = createSlice({\r\n  name: \"auth\",\r\n  initialState: {\r\n    token: \"\",\r\n    user: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    lastFeatch: null,\r\n  },\r\n  reducers: {\r\n    updateUser: (auth, action) => {\r\n      auth.loading = false;\r\n      auth.user = action.payload.user;\r\n      auth.token = action.payload.token;\r\n    },\r\n    updateLoading: (auth, action) => {\r\n      auth.loading = true;\r\n    },\r\n    updateError: (auth, action) => {\r\n      auth.loading = false;\r\n      auth.lastFeatch = Date.now();\r\n      auth.error = action.payload.msg;\r\n    },\r\n  },\r\n});\r\n\r\nexport const loginUser = createAction(\"loginUser\");\r\n\r\nexport const {\r\n  logoutUser,\r\n  updateUser,\r\n  updateLoading,\r\n  updateError,\r\n} = auth.actions;\r\nexport default auth.reducer;\r\n","import { createSlice, createAction } from \"@reduxjs/toolkit\";\r\nimport _ from \"lodash\";\r\n\r\nconst searchBox = createSlice({\r\n    name: \"searchBox\",\r\n    initialState: {\r\n        results: [],\r\n        loading: false,\r\n    },\r\n    reducers: {\r\n        updateSearchValue: (searchBox, action) => {\r\n            searchBox.results = [];\r\n            searchBox.loading = true;\r\n        },\r\n        updateSearchResults: (searchBox, action) => {\r\n            searchBox.results = _(action.payload.results.data).take(5).value();\r\n            searchBox.loading = false;\r\n        },\r\n    },\r\n});\r\n\r\nexport const onChangeSearchBox = createAction(\"onChangeSearchBox\");\r\n\r\nexport const { updateSearchValue, updateSearchResults } = searchBox.actions;\r\nexport default searchBox.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst convertError = (errId, msg) => {\r\n  switch (true) {\r\n    case errId > 500 && errId < 600:\r\n      return \"Service is unavailable this time, please try agian later.\";\r\n\r\n    case errId === 999:\r\n      return \"We are still building this feature.\";\r\n    default:\r\n      return msg;\r\n  }\r\n};\r\n\r\nconst notification = createSlice({\r\n  name: \"notification\",\r\n  initialState: {\r\n    errId: null,\r\n    msg: \"\",\r\n  },\r\n  reducers: {\r\n    updateMessage: (notification, action) => {\r\n      notification.msg = convertError(action.payload.errId, action.payload.msg);\r\n      notification.errorId = action.payload.errId;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { updateMessage } = notification.actions;\r\nexport default notification.reducer;\r\n","import axios from \"axios\";\r\nimport config from \"../config/http.json\";\r\n\r\naxios.defaults.baseURL =\r\n    process.env.NODE_ENV === \"development\" ? config.serverURL.development : config.serverURL.production;\r\n\r\nexport const configHeader = (token) => {\r\n    return {\r\n        headers: {\r\n            \"x-auth-token\": token,\r\n        },\r\n    };\r\n};\r\n\r\nexport const http = {\r\n    get: axios.get,\r\n    post: axios.post,\r\n    put: axios.put,\r\n    delete: axios.delete,\r\n};\r\n","import { http, configHeader } from \"../http\";\r\nimport config from \"../../config/http.json\";\r\n\r\nconst endPoint = config.endPointURL.usersURL;\r\n\r\nexport async function loginUser(user) {\r\n    return await http.post(`${endPoint}/login`, user);\r\n}\r\n\r\nexport async function registerUser(user) {\r\n    return await http.post(`${endPoint}/register`, user);\r\n}\r\n\r\nexport async function getUser(token) {\r\n    return await http.get(`${endPoint}/me`, configHeader(token));\r\n}\r\n\r\nexport async function updateProfile(token, user) {\r\n    return await http.post(`${endPoint}/changeProfile`, user, configHeader(token));\r\n}\r\n\r\nexport async function logoutUser(token) {\r\n    return await http.post(`${endPoint}/logout`, null, configHeader(token)).catch((ex) => ex.response);\r\n}\r\n\r\nexport async function changeUserPassword(token, objPassword) {\r\n    return await http.post(`${endPoint}/changePassword`, objPassword, configHeader(token));\r\n}\r\n\r\nexport async function loginUserWithCookie(token) {\r\n    return await http.get(`${endPoint}/loginWithCookie`, configHeader(token));\r\n}\r\n\r\nexport async function addBalance(token, balance) {\r\n    return await http.post(`${endPoint}/addBalance`, balance, configHeader(token));\r\n}\r\n\r\nexport async function uploadAvatar() {}\r\n","import { http, configHeader } from \"../http\";\r\nimport config from \"../../config/http.json\";\r\n\r\nconst endPoint = config.endPointURL.userGamesURL;\r\n\r\nexport async function addGameToWishList(token, gameId) {\r\n    return await http.post(`${endPoint}/addGameTo/wishlist/${gameId}`, null, configHeader(token));\r\n}\r\n\r\nexport async function removeGameFromWishList(token, gameId) {\r\n    return await http.post(`${endPoint}/removeGameFrom/wishlist/${gameId}`, null, configHeader(token));\r\n}\r\nexport async function addGameToCart(token, gameId) {\r\n    return await http.post(`${endPoint}/addGameTo/cart/${gameId}`, null, configHeader(token));\r\n}\r\nexport async function removeGameFromCart(token, gameId) {\r\n    return await http.post(`${endPoint}/removeGameFrom/cart/${gameId}`, null, configHeader(token));\r\n}\r\n\r\nexport async function purchaseGames(token) {\r\n    return await http.post(`${endPoint}/purchase`, null, configHeader(token));\r\n}\r\n","import { http, configHeader } from \"../http\";\r\nimport config from \"../../config/http.json\";\r\n\r\nconst endPoint = config.endPointURL.adminURL;\r\n\r\nexport async function cleanToken(token) {\r\n    return await http.post(`${endPoint}/cleantoken`, null, configHeader(token));\r\n}\r\n\r\nexport async function allUsers(token) {\r\n    return await http.get(`${endPoint}/allusers`, configHeader(token));\r\n}\r\n\r\nexport async function toggleUserDeveloper(token, userId) {\r\n    return await http.post(`${endPoint}/toggleDeveloper/${userId}`, null, configHeader(token));\r\n}\r\n\r\nexport async function toggleUserAdmin(token, userId) {\r\n    return await http.post(`${endPoint}/toggleAdmin/${userId}`, null, configHeader(token));\r\n}\r\n","import { http, configHeader } from \"../http\";\r\nimport config from \"../../config/http.json\";\r\n\r\nconst endPoint = config.endPointURL.genresURL;\r\n\r\nexport async function addNewGenre(token, genre) {\r\n    return await http.post(`${endPoint}/new`, genre, configHeader(token));\r\n}\r\n\r\nexport async function updateGenre(token, genreId, genre) {\r\n    return await http.put(`${endPoint}/${genreId}`, genre, configHeader(token));\r\n}\r\n","import { http } from \"../http\";\r\nimport config from \"../../config/http.json\";\r\n\r\nconst endPoint = config.endPointURL.gamesURL;\r\n\r\nexport async function getGames(page) {\r\n    return await http.get(`${endPoint}/all/${page}`);\r\n}\r\n\r\nexport async function getGame(gameId) {\r\n    return await http.get(`${endPoint}/${gameId}`);\r\n}\r\n\r\nexport async function getGameByGenre(genreId, page) {\r\n    return await http.get(`${endPoint}/sortByGenre/${genreId}/${page}`);\r\n}\r\n\r\nexport async function getGameBySearchKey(searchKey, page) {\r\n    return await http.get(`${endPoint}/sortByKey/${searchKey}/${page}`);\r\n}\r\n","//combine user service\r\nimport {\r\n    loginUser,\r\n    addBalance,\r\n    changeUserPassword,\r\n    logoutUser,\r\n    getUser,\r\n    registerUser,\r\n    updateProfile,\r\n    uploadAvatar,\r\n    loginUserWithCookie,\r\n} from \"./users/users\";\r\nimport {\r\n    addGameToWishList,\r\n    removeGameFromWishList,\r\n    addGameToCart,\r\n    removeGameFromCart,\r\n    purchaseGames,\r\n} from \"./users/games\";\r\n\r\n//combine admin service\r\nimport { allUsers, cleanToken, toggleUserAdmin, toggleUserDeveloper } from \"./admin/users\";\r\nimport { addNewGenre, updateGenre } from \"./admin/genres\";\r\n\r\n//combine game service\r\nimport { getGame, getGameByGenre, getGameBySearchKey, getGames } from \"./games/games\";\r\n\r\nconst adminService = {\r\n    users: { allUsers, cleanToken, toggleUserDeveloper, toggleUserAdmin },\r\n    genres: { addNewGenre, updateGenre },\r\n};\r\n\r\nconst usersService = {\r\n    users: {\r\n        logoutUser,\r\n        loginUser,\r\n        addBalance,\r\n        changeUserPassword,\r\n        getUser,\r\n        registerUser,\r\n        updateProfile,\r\n        uploadAvatar,\r\n        loginUserWithCookie,\r\n    },\r\n    games: {\r\n        addGameToWishList,\r\n        removeGameFromWishList,\r\n        addGameToCart,\r\n        removeGameFromCart,\r\n        purchaseGames,\r\n    },\r\n};\r\n\r\nconst gamesService = {\r\n    games: { getGame, getGames, getGameByGenre, getGameBySearchKey },\r\n};\r\n\r\nexport { adminService, usersService, gamesService };\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const registerUser = createAction(\"registerUser\");\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nimport searchBox from \"./searchBox\";\r\nimport { getSearchResult } from \"./middlewares/getSearchResult\";\r\nimport notification from \"./notification\";\r\nimport auth from \"./auth\";\r\nimport { loginUserAPI } from \"./middlewares/loginUserAPI\";\r\nimport { registerUserAPI } from \"./middlewares/registerUser\";\r\n\r\nconst entities = combineReducers({\r\n  searchBox,\r\n  notification,\r\n});\r\n\r\nconst reducer = combineReducers({\r\n  entities,\r\n  auth,\r\n});\r\n\r\nconst store = configureStore({\r\n  reducer,\r\n  middleware: [\r\n    ...getDefaultMiddleware(),\r\n    getSearchResult,\r\n    registerUserAPI,\r\n    loginUserAPI,\r\n  ],\r\n});\r\n\r\nexport { store };\r\n","import { updateSearchResults, updateSearchValue, onChangeSearchBox } from \"../searchBox\";\r\nimport { updateMessage } from \"../notification\";\r\nimport { gamesService } from \"../../services\";\r\n\r\nexport const getSearchResult = ({ dispatch }) => (next) => (action) => {\r\n    if (action.type !== onChangeSearchBox.type) return next(action);\r\n\r\n    dispatch({ type: updateSearchValue.type });\r\n    next(action);\r\n\r\n    gamesService.games\r\n        .getGameBySearchKey(action.payload, 1)\r\n        .then(({ data }) => {\r\n            dispatch({ type: updateSearchResults.type, payload: { results: data } });\r\n        })\r\n        .catch((err) => dispatch({ type: updateMessage.type, payload: { msg: err.message, errId: 503 } }));\r\n};\r\n","import { registerUser } from \"../users\";\r\nimport { updateMessage } from \"../notification\";\r\nimport { loginUser, updateError, updateLoading } from \"../auth\";\r\nimport { usersService } from \"../../services/\";\r\n\r\nexport const registerUserAPI = ({ dispatch }) => (next) => async (action) => {\r\n  if (action.type !== registerUser.type) return next(action);\r\n\r\n  dispatch({ type: updateLoading.type });\r\n\r\n  usersService.users\r\n    .registerUser(action.payload)\r\n    .then(() => {\r\n      const login = {\r\n        username: action.payload.username,\r\n        password: action.payload.password,\r\n      };\r\n\r\n      return dispatch({ type: loginUser.type, payload: login });\r\n    })\r\n    .catch((err) => {\r\n      if (!err.response)\r\n        return dispatch({\r\n          type: updateMessage.type,\r\n          payload: { msg: err.message, errId: 503 },\r\n        });\r\n\r\n      const { msg } = err.response.data;\r\n      dispatch({ type: updateError.type, payload: { msg } });\r\n    });\r\n};\r\n","import Cookies from \"universal-cookie\";\r\n\r\nimport config from \"../../config/config.json\";\r\nimport { updateMessage } from \"../notification\";\r\nimport { loginUser, updateUser, updateLoading, updateError } from \"../auth\";\r\nimport { usersService } from \"../../services\";\r\n\r\nexport const loginUserAPI = ({ dispatch }) => (next) => async (action) => {\r\n    if (action.type !== loginUser.type) return next(action);\r\n\r\n    dispatch({ type: updateLoading.type });\r\n    usersService.users\r\n        .loginUser(action.payload)\r\n        .then(({ data }) => {\r\n            const { user, token } = data.data;\r\n            const cookies = new Cookies();\r\n            cookies.set(\"x-auth-token\", token, {\r\n                maxAge: config.cookies.maxAge,\r\n                path: \"/\",\r\n            });\r\n            dispatch({ type: updateUser.type, payload: { user, token } });\r\n        })\r\n        .catch((err) => {\r\n            if (!err.response)\r\n                return dispatch({\r\n                    type: updateMessage.type,\r\n                    payload: { msg: err.message, errId: 503 },\r\n                });\r\n\r\n            const { msg } = err.response.data;\r\n            dispatch({ type: updateError.type, payload: { msg } });\r\n        });\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst NavBrand = ({ brandURL, linkURL }) => {\r\n    return (\r\n        <div className=\"navbar__brand\">\r\n            <Link to={linkURL}>\r\n                <img src={process.env.PUBLIC_URL + brandURL} alt=\"logo\" />\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NavBrand;\r\n","export default {\r\n    logo: \"/pages/icons/logo.svg\",\r\n    search: \"/pages/icons/search.svg\",\r\n    visibilityOn: \"/pages/icons/visibility_on.svg\",\r\n    visibilityOff: \"/pages/icons/visibility_off.svg\",\r\n    login: \"/pages/icons/login.svg\",\r\n    dropdownArrow: \"/pages/icons/dropdown_arrow.svg\",\r\n    dropdownTriangles: \"/pages/icons/dropdown_triangle.svg\",\r\n    games: \"/pages/icons/games.svg\",\r\n    navMenu: \"/pages/icons/nav-menu.svg\",\r\n};\r\n","export default {\r\n    primaryColorMain: \"#121212\",\r\n    primaryColorLight: \" #171717\",\r\n    primaryColorLighter: \" #333333\",\r\n    secondaryColorMain: \" #636363\",\r\n    secondaryColorLight: \" #a3a3a3\",\r\n    supportColorMain: \" #2979ff\",\r\n    errorColorMain: \" #dc3545\",\r\n    primaryColorFont: \" #fefefe\",\r\n    secondaryColorFont: \" #000000\",\r\n};\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDebounce } from \"use-debounce\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { navbar } from \"../../../config/linkURL.json\";\r\nimport { store } from \"../../../stores/configStore\";\r\nimport { onChangeSearchBox } from \"../../../stores/searchBox\";\r\nimport { icons } from \"../../../constant/\";\r\n\r\nfunction NavSearchbox() {\r\n    const history = useHistory();\r\n    const searchBox = useSelector((state) => state.entities.searchBox);\r\n\r\n    const [active, setActive] = useState(false);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [select, setSelect] = useState(-1);\r\n    const [value] = useDebounce(search, 500);\r\n\r\n    const handleOnKeyDown = useCallback(\r\n        (keyCode) => {\r\n            switch (keyCode) {\r\n                case 13: {\r\n                    if (select !== -1)\r\n                        return history.push(navbar.searchPushToGame + \"/\" + searchBox.results[select]._id);\r\n\r\n                    history.push(navbar.searchBoxURL + \"/\" + value);\r\n                    break;\r\n                }\r\n\r\n                case 38:\r\n                    setSelect(select - 1);\r\n                    if (select <= 0) setSelect(searchBox.results.length - 1);\r\n                    break;\r\n\r\n                case 40:\r\n                    setSelect(select + 1);\r\n                    if (select >= searchBox.results.length - 1) setSelect(0);\r\n                    break;\r\n                default:\r\n                    setSelect(-1);\r\n            }\r\n        },\r\n        [select, searchBox, history, value]\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (value) store.dispatch({ type: onChangeSearchBox.type, payload: value });\r\n    }, [value]);\r\n\r\n    return (\r\n        <div className=\"searchbox\">\r\n            <div className=\"searchbox__input\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={search}\r\n                    onChange={({ currentTarget: input }) => setSearch(input.value)}\r\n                    onFocus={() => setActive(true)}\r\n                    onBlur={() => (select === -1 ? setActive(false) : null)}\r\n                    onKeyDown={({ keyCode }) => handleOnKeyDown(keyCode)}\r\n                    placeholder=\"Search\"\r\n                    autoComplete=\"off\"\r\n                />\r\n                <img id=\"search\" src={process.env.PUBLIC_URL + icons.search} alt=\"search icon\" />\r\n            </div>\r\n            {searchBox.results.length && active ? (\r\n                <ul className=\"searchbox__result\">\r\n                    {searchBox.results.map((option, index) => {\r\n                        return (\r\n                            <li\r\n                                key={option._id}\r\n                                onMouseLeave={() => setSelect(-1)}\r\n                                onMouseEnter={() => setSelect(index)}\r\n                                onClick={() => setActive(false)}\r\n                            >\r\n                                <Link\r\n                                    to={navbar.searchPushToGame + \"/\" + option._id}\r\n                                    className={index === select ? \"column-active\" : \"\"}\r\n                                >\r\n                                    <p>{option.name}</p>\r\n                                    <p>$ {option.price}</p>\r\n                                </Link>\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            ) : null}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NavSearchbox;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst NavLink = ({ label, linkURL, outline = false }) => {\r\n    return (\r\n        <Link className={`btn__link ${outline ? \"outline\" : \"\"}`} to={linkURL}>\r\n            {label}\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default NavLink;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { usersService } from \"../../../services/\";\r\nimport { navbar } from \"../../../config/linkURL.json\";\r\nimport { icons } from \"../../../constant/\";\r\nimport { updateUser } from \"../../../stores/auth\";\r\nimport { store } from \"../../../stores/configStore\";\r\n\r\nfunction NavUser() {\r\n    const cookies = new Cookies();\r\n    const [active, setActive] = useState(null);\r\n    const auth = useSelector((state) => state.auth);\r\n\r\n    const handleLogout = async () => {\r\n        await usersService.users.logoutUser(cookies.get(\"x-auth-token\"));\r\n        cookies.remove(\"x-auth-token\");\r\n        store.dispatch({\r\n            type: updateUser.type,\r\n            payload: { user: \"\", token: \"\" },\r\n        });\r\n    };\r\n\r\n    const drawerClass = active ? \"drawer__active\" : active !== null ? \"drawer__unactive\" : \"drawer__inital\";\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"navbar__user\" onClick={() => setActive(true)}>\r\n                {!auth.avatar && (\r\n                    <img className=\"avatar\" src={process.env.PUBLIC_URL + auth.user.avatar} alt=\"avatar\" />\r\n                )}\r\n                <h4 className=\"name\">{auth.user.name}</h4>\r\n                <img className=\"menu-btn\" src={process.env.PUBLIC_URL + icons.navMenu} alt=\"menu\" />\r\n            </div>\r\n            {active && <div className=\"drawer__background\" onClick={() => setActive(false)}></div>}\r\n            <div className={`navbar__drawer ${drawerClass}`}>\r\n                <div className=\"drawer__column\">\r\n                    <h2 className=\"drawer__title\">Menu</h2>\r\n                    <img\r\n                        onClick={() => setActive(false)}\r\n                        className=\"menu-btn\"\r\n                        src={process.env.PUBLIC_URL + icons.navMenu}\r\n                        alt=\"menu\"\r\n                    />\r\n                </div>\r\n                <span className=\"drawer__divider\"></span>\r\n\r\n                <div className=\"drawer__column\">\r\n                    <Link className=\"drawer__link\" to={navbar.userBtn.profileURL}>\r\n                        Profile\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className=\"drawer__column\">\r\n                    <Link className=\"drawer__link\" to={navbar.userBtn.libraryURL}>\r\n                        Library\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className=\"drawer__column\">\r\n                    <Link className=\"drawer__link\" to={navbar.userBtn.communityURL}>\r\n                        Community\r\n                    </Link>\r\n                </div>\r\n                <div className=\"drawer__column\">\r\n                    <button className=\"drawer__btn\" onClick={handleLogout}>\r\n                        Logout\r\n                    </button>\r\n                </div>\r\n                {auth.user.isAdmin && auth.user.isDeveloper && <span className=\"drawer__divider\"></span>}\r\n\r\n                {auth.user.isAdmin && (\r\n                    <div className=\"drawer__column\">\r\n                        <Link className=\"drawer__link\" to={navbar.userBtn.adminDashboardURL}>\r\n                            Admin Dashboard\r\n                        </Link>\r\n                    </div>\r\n                )}\r\n                {auth.user.isDeveloper && (\r\n                    <div className=\"drawer__column\">\r\n                        <Link className=\"drawer__link\" to={navbar.userBtn.developerDashboardURL}>\r\n                            Developer Dashboard\r\n                        </Link>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default NavUser;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport NavSearchbox from \"./common/navSearchbox\";\r\nimport NavLink from \"./common/navLink\";\r\nimport NavUser from \"./common/navUser\";\r\n\r\nimport { navbar } from \"../../config/linkURL.json\";\r\n\r\nconst NavGroupBtn = () => {\r\n    const auth = useSelector((state) => state.auth);\r\n\r\n    return (\r\n        <div className=\"navbar__groupbtn\">\r\n            <NavSearchbox />\r\n            <NavLink label=\"Store\" linkURL={navbar.storeURL} />\r\n            <NavLink label=\"About Us\" linkURL={navbar.aboutUsURL} />\r\n            {auth.token ? (\r\n                <NavUser />\r\n            ) : (\r\n                <React.Fragment>\r\n                    <NavLink label=\"Login\" linkURL={navbar.loginURL} />\r\n                    <NavLink label=\"Register\" linkURL={navbar.registerURL} outline={true} />)\r\n                </React.Fragment>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NavGroupBtn;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport Cookies from \"universal-cookie\";\r\n\r\nimport { updateUser } from \"../../js/stores/auth\";\r\nimport { store } from \"../../js/stores/configStore\";\r\nimport { usersService } from \"../services/\";\r\n\r\nimport NavBrand from \"../components/navbar/navBrand\";\r\nimport NavGroupBtn from \"../components/navbar/navGrourpBtn\";\r\n\r\nimport { navbar } from \"../config/linkURL.json\";\r\nimport { icons } from \"../constant/\";\r\n\r\nfunction Navbar() {\r\n    const cookie = new Cookies();\r\n    const auth = useSelector((state) => state.auth);\r\n\r\n    useEffect(() => {\r\n        if (cookie.get(\"x-auth-token\") && !auth.token)\r\n            usersService.users\r\n                .loginUserWithCookie(cookie.get(\"x-auth-token\"))\r\n                .then(({ data }) => {\r\n                    const user = data.data;\r\n                    store.dispatch({\r\n                        type: updateUser.type,\r\n                        payload: { user, token: cookie.get(\"x-auth-token\") },\r\n                    });\r\n                })\r\n                .catch(() => cookie.remove(\"x-auth-token\"));\r\n    }, [cookie, auth.token]);\r\n\r\n    return (\r\n        <div className=\"navbar\">\r\n            <NavBrand brandURL={icons.logo} linkURL={navbar.navBrandURL} />\r\n            <NavGroupBtn />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navbar;\r\n","const { validateGenre } = require(\"./genres\");\r\nconst { validateGameNew, validateGameRestock, validateGameUpdate } = require(\"./games\");\r\nconst { validateUser, validateLoginUser, validateUpdatePassword, validateUpdateProfile, validateAddBalance } = require(\"./users\");\r\n\r\nconst users = {\r\n    validateUser,\r\n    validateLoginUser,\r\n    validateUpdatePassword,\r\n    validateUpdateProfile,\r\n    validateAddBalance,\r\n};\r\n\r\nconst games = {\r\n    validateGameNew,\r\n    validateGameRestock,\r\n    validateGameUpdate,\r\n};\r\n\r\nconst genres = {\r\n    validateGenre,\r\n};\r\n\r\nexport { users, games, genres };\r\n","import React from \"react\";\r\n\r\nconst FormInput = ({ name, placeholder, track, type = \"text\" }) => {\r\n    return (\r\n        <input\r\n            className=\"form__input\"\r\n            name={name}\r\n            type={type}\r\n            autoComplete=\"off\"\r\n            spellCheck=\"false\"\r\n            autoCapitalize=\"off\"\r\n            placeholder={placeholder}\r\n            ref={track}\r\n        />\r\n    );\r\n};\r\n\r\nexport default FormInput;\r\n","import React, { useState } from \"react\";\r\n\r\nimport { icons } from \"../../constant/\";\r\n\r\nfunction FormPassword({ name, placeholder, track, type = \"password\" }) {\r\n    const [visible, setVisible] = useState(false);\r\n\r\n    return (\r\n        <div className=\"form__password\">\r\n            <input\r\n                name={name}\r\n                autoComplete=\"off\"\r\n                spellCheck=\"false\"\r\n                type={visible ? \"text\" : type}\r\n                autoCapitalize=\"off\"\r\n                placeholder={placeholder}\r\n                ref={track}\r\n            />\r\n            <img\r\n                src={visible ? icons.visibilityOn : icons.visibilityOff}\r\n                onClick={() => setVisible(!visible)}\r\n                alt=\"seen\"\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FormPassword;\r\n","import React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\n\r\nconst loadingAnimation = (start, time) => {\r\n    return keyframes`\r\n    ${start}% {\r\n        transform: scale(1.2);\r\n        opacity: 0;\r\n    }\r\n\r\n   (${start} + 20)% {\r\n        opacity: 1;\r\n    }\r\n`;\r\n};\r\n\r\nconst LoadingContainer = styled.div`\r\n    display: flex;\r\n\r\n    span {\r\n        margin: 0 2px;\r\n        display: block;\r\n        background: ${(props) => props.color};\r\n        height: ${(props) => props.height};\r\n        width: ${(props) => props.width};\r\n    }\r\n\r\n    span:nth-child(1) {\r\n        animation: ${loadingAnimation(20)} 1s infinite;\r\n    }\r\n\r\n    span:nth-child(2) {\r\n        animation: ${loadingAnimation(40)} 1s infinite;\r\n    }\r\n\r\n    span:nth-child(3) {\r\n        animation: ${loadingAnimation(60)} 1s infinite;\r\n    }\r\n    span:nth-child(4) {\r\n        animation: ${loadingAnimation(80)} 1s infinite;\r\n    }\r\n`;\r\n\r\nconst Loading = ({ height, width, color }) => {\r\n    return (\r\n        <LoadingContainer height={height} width={width} color={color}>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n        </LoadingContainer>\r\n    );\r\n};\r\n\r\nexport default Loading;\r\n","import React from \"react\";\r\n\r\nimport { colors } from \"../../constant/\";\r\nimport Loading from \"../../components/loading/loading\";\r\n\r\nconst FormBtn = ({ label, isLoading, type = \"submit\" }) => {\r\n    return isLoading ? (\r\n        <Loading height=\"24px\" width=\"12px\" color={colors.primaryColorMain} />\r\n    ) : (\r\n        <button className=\"form__btn\" type={type}>\r\n            {label}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default FormBtn;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst FormLink = ({ label, linkURL }) => {\r\n    return (\r\n        <Link className=\"form__link\" to={linkURL}>\r\n            {label}\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default FormLink;\r\n","import React from \"react\";\r\n\r\nconst FormError = ({ error }) => {\r\n    return (\r\n        <div className=\"form__error\">\r\n            <p>{error}</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FormError;\r\n","import React, { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { store } from \"../stores/configStore\";\r\nimport { loginUser, updateError } from \"../stores/auth\";\r\nimport { users as validate } from \"../utils/validateForm/\";\r\nimport { login } from \"../config/linkURL.json\";\r\n\r\nimport FormInput from \"../components/form/fromInput\";\r\nimport FormPassword from \"../components/form/formPassword\";\r\nimport FormBtn from \"../components/form/formBtn\";\r\nimport FormLink from \"../components/form/formLink\";\r\nimport FormError from \"../components/form/formError\";\r\n\r\nconst Login = () => {\r\n    document.title = \"Login | TNGaming\";\r\n    const history = useHistory();\r\n    const auth = useSelector((state) => state.auth);\r\n\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    async function handOnSubmit(data) {\r\n        store.dispatch({ type: updateError.type, payload: { msg: \"\" } });\r\n        const { error } = validate.validateLoginUser(data);\r\n\r\n        if (error) {\r\n            return store.dispatch({\r\n                type: updateError.type,\r\n                payload: { msg: error.details[0].message },\r\n            });\r\n        }\r\n        store.dispatch({ type: loginUser.type, payload: data });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (auth.token) {\r\n            return history.push(login.nextURL);\r\n        }\r\n    }, [auth, history]);\r\n\r\n    return (\r\n        <div className=\"form form__container form__background-img-desktop\">\r\n            <form className=\"login\" onSubmit={handleSubmit(handOnSubmit)}>\r\n                <h3 className=\"form__title\">Login</h3>\r\n                {auth.error && <FormError error={auth.error} />}\r\n                <FormInput placeholder=\"Username\" name=\"username\" track={register} />\r\n                <FormPassword placeholder=\"Password\" name=\"password\" track={register} />\r\n                <div className=\"form__column\">\r\n                    <FormLink label=\"Register instead\" linkURL={login.registerInstead} />\r\n                    <FormBtn label=\"Next\" isLoading={auth.loading} />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { store } from \"../stores/configStore\";\r\nimport { updateError } from \"../stores/auth\";\r\nimport { registerUser } from \"../stores/users\";\r\nimport { users as validate } from \"../utils/validateForm/\";\r\nimport { register as registerLink } from \"../config/linkURL.json\";\r\n\r\nimport FormInput from \"../components/form/fromInput\";\r\nimport FormPassword from \"../components/form/formPassword\";\r\nimport FormBtn from \"../components/form/formBtn\";\r\nimport FormLink from \"../components/form/formLink\";\r\nimport FormError from \"../components/form/formError\";\r\n\r\nconst Register = () => {\r\n    document.title = \"Register | TNGaming\";\r\n    const history = useHistory();\r\n    const auth = useSelector((state) => state.auth);\r\n\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    async function handOnSubmit(data) {\r\n        const { error } = validate.validateUser(data);\r\n        if (error) {\r\n            store.dispatch({ type: updateError.type, payload: { msg: \"\" } });\r\n            return store.dispatch({\r\n                type: updateError.type,\r\n                payload: { msg: error.details[0].message },\r\n            });\r\n        } else store.dispatch({ type: updateError.type, payload: { msg: \"\" } });\r\n        store.dispatch({ type: registerUser.type, payload: data });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (auth.token) {\r\n            return history.push(registerLink.nextURL);\r\n        }\r\n    }, [auth, history]);\r\n\r\n    return (\r\n        <div className=\"form form__container form__background-img-desktop\">\r\n            <form className=\"register\" onSubmit={handleSubmit(handOnSubmit)}>\r\n                <h3 className=\"form__title\">Register</h3>\r\n                {auth.error && <FormError error={auth.error} />}\r\n                <FormInput placeholder=\"Name\" name=\"name\" track={register} />\r\n                <FormInput placeholder=\"Username\" name=\"username\" track={register} />\r\n                <FormPassword placeholder=\"Password\" name=\"password\" track={register} />\r\n                <FormPassword placeholder=\"Confrim password\" name=\"confirm\" track={register} />\r\n                <FormInput placeholder=\"Email\" name=\"email\" track={register} />\r\n                <FormInput placeholder=\"Address\" name=\"address\" track={register} />\r\n                <FormInput placeholder=\"Phone\" name=\"phone\" track={register} />\r\n                <div className=\"form__column\">\r\n                    <FormLink label=\"Register instead\" linkURL={registerLink.loginInstead} />\r\n                    <FormBtn label=\"Next\" isLoading={auth.loading} />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\n\r\nconst FooterLink = ({ label, linkURL }) => {\r\n    return (\r\n        <a href={linkURL} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            {label}\r\n        </a>\r\n    );\r\n};\r\n\r\nexport default FooterLink;\r\n","import React from \"react\";\r\n\r\nconst FooterText = ({ content }) => {\r\n    return <p>{content}</p>;\r\n};\r\n\r\nexport default FooterText;\r\n","import React from \"react\";\r\n\r\nimport FooterLink from \"../components/footer/footerLink\";\r\nimport FooterText from \"../components/footer/footerText\";\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <div className=\"footer\">\r\n            <div className=\"footer__wrapper-right\">\r\n                <h3>Contact</h3>\r\n                <FooterLink label=\"Facebook\" linkURL=\"https://www.facebook.com/Heaty566\" />\r\n                <FooterLink label=\"Github\" linkURL=\"https://github.com/Heaty566\" />\r\n            </div>\r\n            <div className=\"footer__wrapper-left\">\r\n                <h3>Version</h3>\r\n                <FooterText content=\" 0.9.1 beta\" />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { introduction } from \"../config/linkURL.json\";\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div className=\"introduction\">\r\n            <div className=\"introduction__banner\">\r\n                <div className=\"banner__image\">\r\n                    <img src=\"/pages/images/introduction.jpg\" alt=\"introduction\" />\r\n                </div>\r\n                <div className=\"banner__content\">\r\n                    <div className=\"content__title\">\r\n                        <h1>TNGaming Store</h1>\r\n                        <h4>AN OPEN SOURCE MERN PROJECT</h4>\r\n                    </div>\r\n                    <p>\r\n                        This is a project that will work such as Steam or EpicStore in a smaller scale. We are\r\n                        using NodeJS and Express for back-end, React for front-end and MongoDB will be the\r\n                        main Database but we’re going to develop with others technique as GraphQL, Typescript\r\n                        in the future. We hope you will learn and enjoy with this project.\r\n                    </p>\r\n                    <Link className=\"content__link\" to={introduction.bannerURL}>\r\n                        Explore\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\n\r\nconst AboutUs = () => {\r\n    return (\r\n        <div className=\"aboutus\">\r\n            <h2>Learning by listening makes your product’s more productive</h2>\r\n            <h3>Member</h3>\r\n            <div className=\"members\">\r\n                <div className=\"members__card\">\r\n                    <img src=\"/pages/images/members/simon.jpg\" alt=\"simon\" />\r\n                    <h4>Simon Pham</h4>\r\n                </div>\r\n            </div>\r\n            <h3>Story</h3>\r\n            <p>\r\n                Everytime we completed any small projects, we felt it wasn’t enough for us, we want to try\r\n                some thing new and more challenging, so we decided to build this project because of 3 reasons.\r\n                Fist of all, It will be a great place where we can practice more about what I am learning,\r\n                applying new techniques or building with different structures. Secondly, I love sharing with\r\n                you guys about code, listening your feedback about what new feature we should add, what the\r\n                bad feature we have to improve. Finally, we will use this project in our resumes, so I hope if\r\n                you liked this project, please give us a start in Github that will give us a huge motivation\r\n                to build this more helpful for you guys.\r\n            </p>\r\n            <h3>Extra Story</h3>\r\n            <p>\r\n                It’s me, Simon, if you are enjoyed with this project, I will tell about the biggest motivation\r\n                that helps me to build it everyday, That’s Thinh (my wife), we have been apart halfway around\r\n                the world for years because of some personal reasons, and I really hope I would meet her one\r\n                day soon and we would be forever. However, I have to finish my college in VN, and then apply\r\n                for my master's degree in the US to come back with her. I don’t know what tomorrow will be\r\n                like but I will try my best even until my last breath.\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AboutUs;\r\n","import React from \"react\";\r\nimport \"./App.scss\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport ProtectedRouter from \"./js/components/routers/protectedRouter\";\r\n// import AdminRouter from \"./js/components/routers/adminRouter\";\r\n\r\nimport Navbar from \"./js/containers/navbar\";\r\nimport Login from \"./js/containers/login\";\r\nimport Register from \"./js/containers/register\";\r\nimport Footer from \"./js/containers/footer\";\r\nimport Home from \"./js/containers/home\";\r\nimport AboutUs from \"./js/containers/aboutus\";\r\n\r\nfunction App() {\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"layout__container\">\r\n                <header className=\"navbar__container\">\r\n                    <Navbar />\r\n                </header>\r\n                <main className=\"main__container\">\r\n                    <Switch>\r\n                        <Route path=\"/home\" exact component={Home} />\r\n                        <Route path=\"/aboutus\" exact component={AboutUs} />\r\n                        <ProtectedRouter path=\"/users/login\" component={Login} />\r\n                        <ProtectedRouter path=\"/users/register\" component={Register} />\r\n                        <Redirect from=\"/\" exact to=\"/home\" />\r\n                    </Switch>\r\n                </main>\r\n                <footer className=\"footer__container\">\r\n                    <Footer />\r\n                </footer>\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { CookiesProvider } from \"react-cookie\";\r\n\r\nimport { store } from \"./js/stores/configStore\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <CookiesProvider>\r\n            <BrowserRouter>\r\n                <Provider store={store}>\r\n                    <App />\r\n                </Provider>\r\n            </BrowserRouter>\r\n        </CookiesProvider>\r\n    </React.StrictMode>,\r\n    document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","const pattern = {\r\n    //customary errors\r\n    objectId: \"is invalid\",\r\n    \"any.required\": \"is required\",\r\n    //password\r\n    \"string.matchPassword\": \"doesn't match password\",\r\n\r\n    //format date\r\n\r\n    \"date.base\": \"must be a valid date\",\r\n    //format array\r\n    \"array.base\": \"must be an array\",\r\n    \"array.max\": \"must contain less than or equal to\",\r\n    \"array.min\": \"must contain at least\",\r\n    //format boolean\r\n    \"boolean.base\": \"must be true or false\",\r\n    //format nmber\r\n    \"number.min\": \"must be larger than or equal to \",\r\n    \"number.max\": \"must be less than or equal to\",\r\n    \"number.base\": \"must be a number\",\r\n    //format String\r\n    \"string.emailForm\": \" an email\",\r\n    \"string.letterOnly\": \" letters only\",\r\n    \"string.numberOnly\": \" numbers only\",\r\n    \"string.email\": \"must be a valid email\",\r\n    \"string.letterAndNumber\": \" letters and numbers only\",\r\n    \"string.base\": \"must be a string\",\r\n    \"string.empty\": \"is not allowed to be empty\",\r\n    \"string.pattern.base\": \"must contain\",\r\n    \"string.min\": \"must contain at least\",\r\n    \"string.max\": \"must be less than or equal to\",\r\n};\r\n\r\nconst formatError = (label, type, option = \"\") => {\r\n    return `${label} ${pattern[type]}${pattern[option] ? pattern[option] : option}`;\r\n};\r\n\r\nmodule.exports = { formatError };\r\n","const Joi = require(\"@hapi/joi\");\r\n\r\nconst { formatError } = require(\"./validateErrorFormat\");\r\n\r\nconst schemasGenreValidate = (type) => {\r\n    switch (type) {\r\n        case \"name\":\r\n            return Joi.string()\r\n                .max(20)\r\n                .min(2)\r\n                .regex(/^[a-zA-Z ]*$/)\r\n                .required()\r\n                .messages({\r\n                    \"string.base\": formatError(\"Name\", \"string.base\"),\r\n                    \"string.empty\": formatError(\"Name\", \"string.empty\"),\r\n                    \"string.min\": formatError(\"Name\", \"string.min\", \" two characters\"),\r\n                    \"string.max\": formatError(\"Name\", \"string.max\", \" twenty characters\"),\r\n                    \"string.pattern.base\": formatError(\"Name\", \"string.pattern.base\", \"string.letterOnly\"),\r\n                    \"any.required\": formatError(\"Name\", \"any.required\"),\r\n                });\r\n        default:\r\n            break;\r\n    }\r\n};\r\n\r\nconst validateGenre = (genre) => {\r\n    const schema = Joi.object({\r\n        name: schemasGenreValidate(\"name\"),\r\n    });\r\n\r\n    return schema.validate(genre);\r\n};\r\n\r\nmodule.exports = { validateGenre };\r\n"],"sourceRoot":""}